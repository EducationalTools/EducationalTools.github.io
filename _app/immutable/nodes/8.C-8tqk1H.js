import"../chunks/Bzak7iHL.js";import{p as ve,g as oe,ax as ae,f as J,a as o,b as $e,j as r,u as S,s as y,c as N,d as se,e as T,n as q,r as E,i as l,h as c,t as _e}from"../chunks/90-DEOan.js";import{a as he,d as Ie,r as pe,p as ne,s as Re,c as Me}from"../chunks/oLVG0urQ.js";import{i as be}from"../chunks/DFZ8ND2l.js";import{e as L}from"../chunks/CiZliv5P.js";import{c as m}from"../chunks/DP98yRtV.js";import{c as De,g as He,a as Ae,b as Ke,r as je,T as Be,d as Le,e as le,f as fe,F as me,h as Ge,i as Ne,A as qe,j as k}from"../chunks/DP9OL_No.js";import{I as Ee}from"../chunks/B4ac5p5D.js";import{C as Je}from"../chunks/D6rmcX9D.js";import{L as Oe}from"../chunks/BGdd-mPM.js";import{B as ie}from"../chunks/Ce_EolSp.js";import{h as xe}from"../chunks/DR5zZ6qM.js";import{A as Qe}from"../chunks/62eEMhKw.js";import{s as ye}from"../chunks/DZ7ApB9w.js";import{a as Ue}from"../chunks/1EXD_2pQ.js";import{g as We}from"../chunks/HaAXMvNQ.js";var Xe=J("<!> <!>",1),Ye=J('<div class="grid max-h-screen w-full grid-cols-1 flex-col gap-3 rounded-md p-3"><div class="flex w-full flex-row items-center gap-3"><div class="flex h-full items-center justify-center rounded-md border border-dashed px-3 text-lg">History</div> <!> <div class="flex flex-row gap-2"><!> <!></div> <!></div> <!></div>');function Ze(t,a){ve(a,!0);const[v,i]=he(),$=(e,s,n,de)=>{const I=je(e.getValue(s),n);return de({itemRank:I}),I.passed};let _=oe(ae([])),d=oe(ae([])),V=oe(ae({id:!1}));const u=De({get data(){return a.data},columns:a.columns,getCoreRowModel:Ke(),getSortedRowModel:Ae(),getFilteredRowModel:He(),filterFns:{fuzzy:$},onSortingChange:e=>{typeof e=="function"?T(_,e(r(_)),!0):T(_,e,!0)},onColumnFiltersChange:e=>{typeof e=="function"?T(d,e(r(d)),!0):T(d,e,!0)},onColumnVisibilityChange:e=>{typeof e=="function"?T(V,e(r(V)),!0):T(V,e,!0)},state:{get sorting(){return r(_)},get columnFilters(){return r(d)},get columnVisibility(){return r(V)}}});var w=Ye(),z=N(w),j=y(N(z),2);{let e=S(()=>{var s;return((s=u.getColumn("name"))==null?void 0:s.getFilterValue())??""});Ee(j,{placeholder:"Search",get value(){return r(e)},onchange:s=>{var n;(n=u.getColumn("name"))==null||n.setFilterValue(s.currentTarget.value)},oninput:s=>{var n;(n=u.getColumn("name"))==null||n.setFilterValue(s.currentTarget.value)},class:"grow"})}var h=y(j,2),ce=N(h),we=()=>{var e;return(e=u.getColumn("id"))==null?void 0:e.getIsVisible()},Ce=e=>{var s;return(s=u.getColumn("id"))==null?void 0:s.toggleVisibility(!!e)};Je(ce,{get checked(){return we()},set checked(e){Ce(e)},id:"showid"});var Pe=y(ce,2);Oe(Pe,{for:"showid",class:"text-nowrap",children:(e,s)=>{q();var n=se("Show ID");o(e,n)},$$slots:{default:!0}}),E(h);var Fe=y(h,2);ie(Fe,{variant:"destructive",onclick:()=>Ie(xe,[]),children:(e,s)=>{q();var n=se("Clear");o(e,n)},$$slots:{default:!0}}),E(z);var Te=y(z,2);m(Te,()=>Ge,(e,s)=>{s(e,{children:(n,de)=>{var I=Xe(),ue=l(I);m(ue,()=>Be,(O,Q)=>{Q(O,{class:"bg-background sticky top-0",children:(U,Se)=>{var R=c(),W=l(R);L(W,17,()=>u.getHeaderGroups(),g=>g.id,(g,p)=>{var b=c(),M=l(b);m(M,()=>le,(D,H)=>{H(D,{children:(B,A)=>{var K=c(),C=l(K);L(C,17,()=>r(p).headers,x=>x.id,(x,f)=>{var P=c(),F=l(P);m(F,()=>Ne,(X,Y)=>{Y(X,{children:(Z,ge)=>{var ee=c(),te=l(ee);{var Ve=re=>{{let ze=S(()=>r(f).getContext());me(re,{get content(){return r(f).column.columnDef.header},get context(){return r(ze)}})}};be(te,re=>{r(f).isPlaceholder||re(Ve)})}o(Z,ee)},$$slots:{default:!0}})}),o(x,P)}),o(B,K)},$$slots:{default:!0}})}),o(g,b)}),o(U,R)},$$slots:{default:!0}})});var ke=y(ue,2);m(ke,()=>Le,(O,Q)=>{Q(O,{children:(U,Se)=>{var R=c(),W=l(R);L(W,17,()=>u.getRowModel().rows,g=>g.id,(g,p)=>{var b=c(),M=l(b);{let D=S(()=>r(p).getIsSelected()&&"selected");m(M,()=>le,(H,B)=>{B(H,{get"data-state"(){return r(D)},children:(A,K)=>{var C=c(),x=l(C);L(x,17,()=>r(p).getVisibleCells(),f=>f.id,(f,P)=>{var F=c(),X=l(F);m(X,()=>fe,(Y,Z)=>{Z(Y,{children:(ge,ee)=>{{let te=S(()=>r(P).getContext());me(ge,{get content(){return r(P).column.columnDef.cell},get context(){return r(te)}})}},$$slots:{default:!0}})}),o(f,F)}),o(A,C)},$$slots:{default:!0}})})}o(g,b)},g=>{var p=c(),b=l(p);m(b,()=>le,(M,D)=>{D(M,{children:(H,B)=>{var A=c(),K=l(A);m(K,()=>fe,(C,x)=>{x(C,{get colspan(){return a.columns.length},class:"h-24 text-center",children:(f,P)=>{q();var F=se("No results.");o(f,F)},$$slots:{default:!0}})}),o(H,A)},$$slots:{default:!0}})}),o(g,p)}),o(U,R)},$$slots:{default:!0}})}),o(n,I)},$$slots:{default:!0}})}),E(w),o(t,w),$e(),i()}function et(t,a){{let v=S(()=>"/g/"+a.id);ie(t,{variant:"ghost",size:"icon",class:"relative size-8 p-0",get href(){return r(v)},children:(i,$)=>{Qe(i,{})},$$slots:{default:!0}})}}var tt=J("<a> </a>");function rt(t,a){const v=pe(a,["$$slots","$$events","$$legacy","children"]);var i=tt();Ue(i,()=>({...v}));var $=N(i,!0);E(i),_e(()=>ye($,a.children)),o(t,i)}var ot=J(" <!>",1);function G(t,a){let v=ne(a,"content",3,""),i=ne(a,"variant",3,"ghost"),$=ne(a,"sort",3,!1),_=pe(a,["$$slots","$$events","$$legacy","content","variant","sort"]);ie(t,Re({get variant(){return i()},class:"w-full"},()=>_,{children:(d,V)=>{q();var u=ot(),w=l(u),z=y(w);{var j=h=>{qe(h,{class:"ml-2"})};be(z,h=>{$()&&h(j)})}_e(()=>ye(w,`${v()??""} `)),o(d,u)},$$slots:{default:!0}}))}const at=[{accessorKey:"id",header:({column:t})=>k(G,{content:"ID"})},{accessorKey:"name",header:({column:t})=>k(G,{onclick:t.getToggleSortingHandler(),content:"Name",sort:!0}),cell:({row:t})=>k(rt,{children:t.original.name,href:`/g/${t.original.id}`}),filterFn:"fuzzy"},{accessorKey:"category",header:({column:t})=>k(G,{onclick:t.getToggleSortingHandler(),content:"Category",sort:!0})},{accessorKey:"description",header:({column:t})=>k(G,{content:"Description"})},{id:"actions",cell:({row:t})=>k(et,{id:t.original.id})}];function xt(t,a){ve(a,!0);const[v,i]=he(),$=()=>Me(xe,"$historyStore",v);let _=S(()=>$().map(d=>We(d)).filter(d=>d!==void 0));Ze(t,{get data(){return r(_)},get columns(){return at}}),$e(),i()}export{xt as component};
