import"../chunks/disclose-version.Bg9kRutz.js";import{C as m,p as W,t as X,a as Y,s as c,g as l,x as H,A as Z,c as _,r as g}from"../chunks/utils.Nfq_Ryyq.js";import{s as L}from"../chunks/render.CHDfSKXx.js";import{i as ee}from"../chunks/if.CL2yaaSP.js";import{m as b,s as y,d as k,a as f,n as ae,t as x,o as O,e as V,q as A,u as te}from"../chunks/props.tl658U76.js";import{d as D}from"../chunks/index.Bsg9YjD4.js";import{p as se}from"../chunks/index.vHvMrkIt.js";import{B as w}from"../chunks/button.DIhtYTQ-.js";import"../chunks/legacy.CtaTdtmd.js";import{t as G}from"../chunks/Toaster.svelte_svelte_type_style_lang.DZrFdf30.js";import{f as T,p as j,g as oe}from"../chunks/gmaes.CGosbCZw.js";import{I as z,s as M}from"../chunks/Icon.3PjF1V65.js";function re(p,s){const d=b(s,["children","$$slots","$$events","$$legacy"]);z(p,y({name:"maximize"},()=>d,{iconNode:[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"}]],children:(n,u)=>{var e=k(),i=m(e);M(i,s,"default",{},null),f(n,e)},$$slots:{default:!0}}))}function ne(p,s){const d=b(s,["children","$$slots","$$events","$$legacy"]);z(p,y({name:"external-link"},()=>d,{iconNode:[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]],children:(n,u)=>{var e=k(),i=m(e);M(i,s,"default",{},null),f(n,e)},$$slots:{default:!0}}))}function le(p,s){const d=b(s,["children","$$slots","$$events","$$legacy"]);z(p,y({name:"share"},()=>d,{iconNode:[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}],["polyline",{points:"16 6 12 2 8 6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15"}]],children:(n,u)=>{var e=k(),i=m(e);M(i,s,"default",{},null),f(n,e)},$$slots:{default:!0}}))}function J(p,s){const d=b(s,["children","$$slots","$$events","$$legacy"]);z(p,y({name:"star"},()=>d,{iconNode:[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"}]],children:(n,u)=>{var e=k(),i=m(e);M(i,s,"default",{},null),f(n,e)},$$slots:{default:!0}}))}var ie=x('<span class="sr-only">Fullscreen</span> <!>',1),de=x('<span class="sr-only">Open in new tab</span> <!>',1),ce=x('<span class="sr-only">Share</span> <!>',1),pe=x('<span class="sr-only">Open in new tab</span> <!>',1),fe=x('<div class="flex h-full w-full flex-row gap-3 p-3"><iframe frameborder="0" class="flex-grow rounded"></iframe> <div class="flex h-full w-72 flex-col"><h1 class="text-4xl font-bold"> </h1> <p class="text-xl"> </p> <div class="flex-grow"></div> <div class="flex flex-row gap-3"><!> <!> <!> <!></div></div></div>');function ze(p,s){W(s,!0);const d=ae(),v=()=>A(j,"$preferencesStore",d),n=()=>A(T,"$favoritesStore",d);function u(a){var o;if(v().open==="tab")o=window.open("","_blank");else if(v().open==="window")o=window.open("","_blank");else{te(j,H(v).open="tab",H(v)),u(a);return}if(!o)return;const t=o.document,r=t.createElement("style");r.textContent="body, html { margin: 0; padding: 0; height: 100%; }",t.head.appendChild(r);const $=t.createElement("iframe");$.src=a,$.style.cssText="width: 100%; height: 100%; border: none;",t.body.appendChild($)}const e=Z(()=>oe(se.params.id));var i=fe(),S=_(i),C=c(S,2),N=_(C),K=_(N,!0);g(N);var P=c(N,2),Q=_(P,!0);g(P);var F=c(P,4),q=_(F);w(q,{variant:"outline",size:"icon",class:"flex-1",onclick:()=>{var a;(a=document.querySelector("iframe"))==null||a.requestFullscreen()},children:(a,o)=>{var t=ie(),r=c(m(t),2);re(r,{class:"h-6 w-6"}),f(a,t)},$$slots:{default:!0}});var B=c(q,2);w(B,{variant:"outline",size:"icon",class:"flex-1",onclick:()=>{var a;(a=l(e))!=null&&a.url&&u(l(e).url)},children:(a,o)=>{var t=de(),r=c(m(t),2);ne(r,{class:"h-6 w-6"}),f(a,t)},$$slots:{default:!0}});var E=c(B,2);w(E,{variant:"outline",size:"icon",class:"flex-1",onclick:()=>{navigator.share?navigator.share({text:window.location.href}).catch(()=>{navigator.clipboard.writeText(window.location.href),G.error("Failed to share link, copied to clipboard instead.")}):(navigator.clipboard.writeText(window.location.href),G.error("Failed to share link, copied to clipboard instead."))},children:(a,o)=>{var t=ce(),r=c(m(t),2);le(r,{class:"h-6 w-6"}),f(a,t)},$$slots:{default:!0}});var R=c(E,2);w(R,{variant:"outline",size:"icon",class:"flex-1",onclick:()=>{var a;(a=l(e))!=null&&a.id&&(n().includes(l(e).id)?O(T,V(n().filter(o=>o!==l(e).id))):O(T,V([...n(),l(e).id])))},children:(a,o)=>{var t=pe(),r=c(m(t),2);{var $=h=>{J(h,{class:"h-6 w-6 text-red-400"})},U=h=>{J(h,{class:"h-6 w-6"})};ee(r,h=>{var I;(I=l(e))!=null&&I.id&&n().includes(l(e).id)?h($):h(U,!1)})}f(a,t)},$$slots:{default:!0}}),g(F),g(C),g(i),X(()=>{var a,o,t,r;D(S,"src",(a=l(e))==null?void 0:a.url),D(S,"title",(o=l(e))==null?void 0:o.name),L(K,(t=l(e))==null?void 0:t.name),L(Q,(r=l(e))==null?void 0:r.description)}),f(p,i),Y()}export{ze as component};
