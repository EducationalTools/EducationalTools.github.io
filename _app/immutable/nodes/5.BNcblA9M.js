import"../chunks/Bzak7iHL.js";import"../chunks/BGlJUDeJ.js";import{p as Te,j as oe,ax as se,f as q,i as r,ay as H,d as J,t as O,a,s as k,c as ke,k as T,n as L,r as j,g as i,e as u,b as ie}from"../chunks/ObsN8SXJ.js";import{i as $e}from"../chunks/DHMbNryI.js";import{e as G,i as Fe}from"../chunks/vEUXzi4d.js";import{c as v}from"../chunks/CXbrmLDF.js";import{c as Ve,T as Re,g as Se,a as ze,b as Ie,d as Me,e as ne,f as De,F as me,h as Ke,i as ve,r as Ae,A as Be,j as _}from"../chunks/CQQQkVAh.js";import{I as He}from"../chunks/DYFrhGBh.js";import{C as Ge}from"../chunks/kSSB8mOO.js";import{L as Le}from"../chunks/BeUVJxtw.js";import{B as ce}from"../chunks/BN9Wrzs2.js";import{A as je}from"../chunks/DOF66MlM.js";import{s as de}from"../chunks/DWRHxY04.js";import{a as qe}from"../chunks/C8a7bI_w.js";import{r as _e,p as le,s as Ne}from"../chunks/CZ3-Z9GB.js";import{B as Ee}from"../chunks/DDrC7kf-.js";import{p as Je}from"../chunks/DyxdCUti.js";var Oe=q("<!> <!>",1),Qe=q('<div class="grid max-h-screen w-full grid-cols-1 flex-col gap-3 rounded-md p-3"><div class="flex w-full flex-row items-center gap-3"><!> <div class="flex flex-row gap-2"><!> <!></div> <!></div> <!></div>');function Ue(t,o){Te(o,!0);const c=(e,n,l,ue)=>{const S=Ae(e.getValue(n),l);return ue({itemRank:S}),S.passed};let s=oe(se([])),d=oe(se([])),$=oe(se({id:!1}));const g=Ve({get data(){return o.data},columns:o.columns,getCoreRowModel:Ie(),getSortedRowModel:ze(),getFilteredRowModel:Se(),filterFns:{fuzzy:c},onSortingChange:e=>{typeof e=="function"?T(s,e(r(s)),!0):T(s,e,!0)},onColumnFiltersChange:e=>{typeof e=="function"?T(d,e(r(d)),!0):T(d,e,!0)},onColumnVisibilityChange:e=>{typeof e=="function"?T($,e(r($)),!0):T($,e,!0)},state:{get sorting(){return r(s)},get columnFilters(){return r(d)},get columnVisibility(){return r($)}}});var p=Qe(),w=J(p),F=J(w);{let e=H(()=>{var n;return((n=g.getColumn("name"))==null?void 0:n.getFilterValue())??""});He(F,{placeholder:"Search",get value(){return r(e)},onchange:n=>{var l;(l=g.getColumn("name"))==null||l.setFilterValue(n.currentTarget.value)},oninput:n=>{var l;(l=g.getColumn("name"))==null||l.setFilterValue(n.currentTarget.value)},class:"grow"})}var V=k(F,2),N=J(V),R=()=>{var e;return(e=g.getColumn("id"))==null?void 0:e.getIsVisible()},pe=e=>{var n;return(n=g.getColumn("id"))==null?void 0:n.toggleVisibility(!!e)};Ge(N,{get checked(){return R()},set checked(e){pe(e)},id:"showid"});var he=k(N,2);Le(he,{for:"showid",class:"text-nowrap",children:(e,n)=>{L();var l=O("Show ID");a(e,l)},$$slots:{default:!0}}),j(V);var be=k(V,2);ce(be,{href:"https://github.com/EducationalTools/src/issues/new?template=gmae_request.yml",target:"_blank",children:(e,n)=>{L();var l=O("Request Gmae");a(e,l)},$$slots:{default:!0}}),j(w);var xe=k(w,2);v(xe,()=>Re,(e,n)=>{n(e,{children:(l,ue)=>{var S=Oe(),ge=i(S);v(ge,()=>Me,(Q,U)=>{U(Q,{class:"bg-background sticky top-0",children:(W,ye)=>{var z=u(),X=i(z);G(X,17,()=>g.getHeaderGroups(),f=>f.id,(f,h)=>{var b=u(),I=i(b);v(I,()=>ne,(M,D)=>{D(M,{children:(E,K)=>{var A=u(),y=i(A);G(y,17,()=>r(h).headers,x=>x.id,(x,m)=>{var C=u(),P=i(C);v(P,()=>De,(Y,Z)=>{Z(Y,{children:(ee,fe)=>{var te=u(),re=i(te);{var Ce=ae=>{{let Pe=H(()=>r(m).getContext());me(ae,{get content(){return r(m).column.columnDef.header},get context(){return r(Pe)}})}};$e(re,ae=>{r(m).isPlaceholder||ae(Ce)})}a(ee,te)},$$slots:{default:!0}})}),a(x,C)}),a(E,A)},$$slots:{default:!0}})}),a(f,b)}),a(W,z)},$$slots:{default:!0}})});var we=k(ge,2);v(we,()=>Ke,(Q,U)=>{U(Q,{children:(W,ye)=>{var z=u(),X=i(z);G(X,17,()=>g.getRowModel().rows,f=>f.id,(f,h)=>{var b=u(),I=i(b);{let M=H(()=>r(h).getIsSelected()&&"selected");v(I,()=>ne,(D,E)=>{E(D,{get"data-state"(){return r(M)},children:(K,A)=>{var y=u(),x=i(y);G(x,17,()=>r(h).getVisibleCells(),m=>m.id,(m,C)=>{var P=u(),Y=i(P);v(Y,()=>ve,(Z,ee)=>{ee(Z,{children:(fe,te)=>{{let re=H(()=>r(C).getContext());me(fe,{get content(){return r(C).column.columnDef.cell},get context(){return r(re)}})}},$$slots:{default:!0}})}),a(m,P)}),a(K,y)},$$slots:{default:!0}})})}a(f,b)},f=>{var h=u(),b=i(h);v(b,()=>ne,(I,M)=>{M(I,{children:(D,E)=>{var K=u(),A=i(K);v(A,()=>ve,(y,x)=>{x(y,{get colspan(){return o.columns.length},class:"h-24 text-center",children:(m,C)=>{L();var P=O("No results.");a(m,P)},$$slots:{default:!0}})}),a(D,K)},$$slots:{default:!0}})}),a(f,h)}),a(W,z)},$$slots:{default:!0}})}),a(l,S)},$$slots:{default:!0}})}),j(p),a(t,p),ke()}function We(t,o){{let c=H(()=>"/g/"+o.id);ce(t,{variant:"ghost",size:"icon",class:"relative size-8 p-0",get href(){return r(c)},children:(s,d)=>{je(s,{})},$$slots:{default:!0}})}}var Xe=q("<a> </a>");function Ye(t,o){const c=_e(o,["$$slots","$$events","$$legacy","children"]);var s=Xe();qe(s,()=>({...c}));var d=J(s,!0);j(s),ie(()=>de(d,o.children)),a(t,s)}var Ze=q('<div class="flex w-full flex-row flex-wrap gap-2"></div>');function et(t,o){var c=Ze();G(c,21,()=>o.tags||[],Fe,(s,d)=>{Ee(s,{variant:"default",children:($,g)=>{L();var p=O();ie(()=>de(p,`#${r(d)??""}`)),a($,p)},$$slots:{default:!0}})}),j(c),a(t,c)}var tt=q(" <!>",1);function B(t,o){let c=le(o,"content",3,""),s=le(o,"variant",3,"ghost"),d=le(o,"sort",3,!1),$=_e(o,["$$slots","$$events","$$legacy","content","variant","sort"]);ce(t,Ne({get variant(){return s()},class:"w-full"},()=>$,{children:(g,p)=>{L();var w=tt(),F=i(w),V=k(F);{var N=R=>{Be(R,{class:"ml-2"})};$e(V,R=>{d()&&R(N)})}ie(()=>de(F,`${c()??""} `)),a(g,w)},$$slots:{default:!0}}))}const rt=[{accessorKey:"id",header:({column:t})=>_(B,{content:"ID"})},{accessorKey:"name",header:({column:t})=>_(B,{onclick:t.getToggleSortingHandler(),content:"Name",sort:!0}),cell:({row:t})=>_(Ye,{children:t.original.name,href:`/g/${t.original.id}`}),filterFn:"fuzzy"},{accessorKey:"category",header:({column:t})=>_(B,{onclick:t.getToggleSortingHandler(),content:"Category",sort:!0})},{accessorKey:"description",header:({column:t})=>_(B,{content:"Description"})},{accessorKey:"tags",header:({column:t})=>_(B,{content:"Tags"}),cell:({row:t})=>_(et,{tags:t.original.tags})},{id:"actions",cell:({row:t})=>_(We,{id:t.original.id})}];function bt(t){Ue(t,{get data(){return Je},get columns(){return rt}})}export{bt as component};
