import"../chunks/disclose-version.Bg9kRutz.js";import{C as h,p as D,t as G,a as O,s as d,g as v,x as F,A as j,c as u,r as $}from"../chunks/utils.B6cdhx10.js";import{s as q}from"../chunks/render.BUoV2pcs.js";import{m as y,s as k,d as M,a as m,n as J,t as _,o as K,q as L}from"../chunks/props.BpSBfkhV.js";import{d as B}from"../chunks/index.nReoHB6_.js";import{p as Q}from"../chunks/index.9XOI9jat.js";import{p as E,g as R}from"../chunks/gmaes.BObK6vsR.js";import{B as b}from"../chunks/button.By0j1UUA.js";import"../chunks/legacy.CtaTdtmd.js";import{t as I}from"../chunks/Toaster.svelte_svelte_type_style_lang.DM40yGzn.js";import{I as z,s as N}from"../chunks/Icon.DW0B-hW3.js";function U(c,r){const p=y(r,["children","$$slots","$$events","$$legacy"]);z(c,k({name:"maximize"},()=>p,{iconNode:[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"}]],children:(i,n)=>{var t=M(),l=h(t);N(l,r,"default",{},null),m(i,t)},$$slots:{default:!0}}))}function W(c,r){const p=y(r,["children","$$slots","$$events","$$legacy"]);z(c,k({name:"external-link"},()=>p,{iconNode:[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]],children:(i,n)=>{var t=M(),l=h(t);N(l,r,"default",{},null),m(i,t)},$$slots:{default:!0}}))}function X(c,r){const p=y(r,["children","$$slots","$$events","$$legacy"]);z(c,k({name:"share"},()=>p,{iconNode:[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}],["polyline",{points:"16 6 12 2 8 6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15"}]],children:(i,n)=>{var t=M(),l=h(t);N(l,r,"default",{},null),m(i,t)},$$slots:{default:!0}}))}var Y=_('<span class="sr-only">Fullscreen</span> <!>',1),Z=_('<span class="sr-only">Open in new tab</span> <!>',1),ee=_('<span class="sr-only">Share</span> <!>',1),ae=_('<div class="flex h-full w-full flex-row gap-3 p-3"><iframe frameborder="0" class="flex-grow rounded"></iframe> <div class="flex h-full w-72 flex-col"><h1 class="text-4xl font-bold"> </h1> <p class="text-xl"> </p> <div class="flex-grow"></div> <div class="flex flex-row gap-3"><!> <!> <!></div></div></div>');function me(c,r){D(r,!0);const p=J(),f=()=>L(E,"$preferencesStore",p);function i(e){var s;if(f().open==="tab")s=window.open("","_blank");else if(f().open==="window")s=window.open("","_blank");else{K(E,F(f).open="tab",F(f)),i(e);return}if(!s)return;const a=s.document,o=a.createElement("style");o.textContent="body, html { margin: 0; padding: 0; height: 100%; }",a.head.appendChild(o);const w=a.createElement("iframe");w.src=e,w.style.cssText="width: 100%; height: 100%; border: none;",a.body.appendChild(w)}const n=j(()=>R(Q.params.id));var t=ae(),l=u(t),P=d(l,2),g=u(P),H=u(g,!0);$(g);var x=d(g,2),V=u(x,!0);$(x);var S=d(x,4),T=u(S);b(T,{variant:"outline",size:"icon",class:"flex-1",onclick:()=>{var e;(e=document.querySelector("iframe"))==null||e.requestFullscreen()},children:(e,s)=>{var a=Y(),o=d(h(a),2);U(o,{class:"h-6 w-6"}),m(e,a)},$$slots:{default:!0}});var C=d(T,2);b(C,{variant:"outline",size:"icon",class:"flex-1",onclick:()=>{var e;(e=v(n))!=null&&e.url&&i(v(n).url)},children:(e,s)=>{var a=Z(),o=d(h(a),2);W(o,{class:"h-6 w-6"}),m(e,a)},$$slots:{default:!0}});var A=d(C,2);b(A,{variant:"outline",size:"icon",class:"flex-1",onclick:()=>{navigator.share?navigator.share({text:window.location.href}).catch(()=>{navigator.clipboard.writeText(window.location.href),I.error("Failed to share link, copied to clipboard instead.")}):(navigator.clipboard.writeText(window.location.href),I.error("Failed to share link, copied to clipboard instead."))},children:(e,s)=>{var a=ee(),o=d(h(a),2);X(o,{class:"h-6 w-6"}),m(e,a)},$$slots:{default:!0}}),$(S),$(P),$(t),G(()=>{var e,s,a,o;B(l,"src",(e=v(n))==null?void 0:e.url),B(l,"title",(s=v(n))==null?void 0:s.name),q(H,(a=v(n))==null?void 0:a.name),q(V,(o=v(n))==null?void 0:o.description)}),m(c,t),O()}export{me as component};
