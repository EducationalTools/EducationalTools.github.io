import{a as $,t as R,d as L,b as j}from"../chunks/disclose-version.WzDOpLjE.js";import{i as q}from"../chunks/legacy.tupPp3Iz.js";import{p as A,C as F,f as G,t as H,a as K,n as P,s as B,c as M,r as Q,D as U,y as X}from"../chunks/runtime.CBtYF0mP.js";import{w as Y}from"../chunks/index.BHsFW6Rd.js";import{B as T}from"../chunks/button.B6RdADlt.js";var x={local:{},session:{}};function Z(e){return e==="local"?localStorage:sessionStorage}function k(e,u,b){var d,f,p,m,v,o,g,a;const h=(d=void 0)!=null?d:JSON,l=(f=void 0)!=null?f:"local",W=(p=void 0)!=null?p:!0,C=(v=(m=void 0)!=null?m:void 0)!=null?v:t=>console.error(`Error when writing value from persisted store "${e}" to ${l}`,t),E=(o=void 0)!=null?o:(t,r)=>console.error(`Error when parsing ${t?'"'+t+'"':"value"} from persisted store "${e}"`,r),V=(g=void 0)!=null?g:t=>t,D=(a=void 0)!=null?a:t=>t,y=typeof window<"u"&&typeof document<"u",w=y?Z(l):null;function z(t,r){const i=D(r);try{w==null||w.setItem(t,h.stringify(i))}catch(_){C(_)}}function J(){function t(s){try{return h.parse(s)}catch(c){E(s,c)}}const r=w==null?void 0:w.getItem(e);if(r==null)return u;const i=t(r);return i==null?u:V(i)}if(!x[l][e]){const t=J(),r=Y(t,s=>{if(y&&l=="local"&&W){const c=n=>{if(n.key===e&&n.newValue){let I;try{I=h.parse(n.newValue)}catch(O){E(n.newValue,O);return}const N=V(I);s(N)}};return window.addEventListener("storage",c),()=>window.removeEventListener("storage",c)}}),{subscribe:i,set:_}=r;x[l][e]={set(s){_(s),z(e,s)},update(s){return r.update(c=>{const n=s(c);return z(e,n),n})},reset(){this.set(u)},subscribe:i}}return x[l][e]}const S=k("teststore",!0);var tt=R("<!> <!> <span> </span>",1);function at(e,u){A(u,!1);let b=U();S.subscribe(o=>{F(b,o)}),q();var d=tt(),f=G(d);T(f,{onclick(){S.set(!0)},children:(o,g)=>{P();var a=L("true");$(o,a)},$$slots:{default:!0}});var p=B(f,2);T(p,{onclick(){S.set(!1)},children:(o,g)=>{P();var a=L("false");$(o,a)},$$slots:{default:!0}});var m=B(p,2),v=M(m,!0);Q(m),H(()=>j(v,X(b))),$(e,d),K()}export{at as component};
