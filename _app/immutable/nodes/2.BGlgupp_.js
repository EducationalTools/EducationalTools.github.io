import"../chunks/disclose-version.Bg9kRutz.js";import"../chunks/legacy.DeYMatJi.js";import{w as J}from"../chunks/index.BQcGx9Uh.js";var f={local:{},session:{}};function N(o){return o==="local"?localStorage:sessionStorage}function O(o,u,P){var p,w,g,v,m,b,h,_;const d=(p=void 0)!=null?p:JSON,s=(w=void 0)!=null?w:"local",I=(g=void 0)!=null?g:!0,L=(m=(v=void 0)!=null?v:void 0)!=null?m:e=>console.error(`Error when writing value from persisted store "${o}" to ${s}`,e),E=(b=void 0)!=null?b:(e,r)=>console.error(`Error when parsing ${e?'"'+e+'"':"value"} from persisted store "${o}"`,r),S=(h=void 0)!=null?h:e=>e,y=(_=void 0)!=null?_:e=>e,$=typeof window<"u"&&typeof document<"u",a=$?N(s):null;function V(e,r){const i=y(r);try{a==null||a.setItem(e,d.stringify(i))}catch(c){L(c)}}function T(){function e(t){try{return d.parse(t)}catch(l){E(t,l)}}const r=a==null?void 0:a.getItem(o);if(r==null)return u;const i=e(r);return i==null?u:S(i)}if(!f[s][o]){const e=T(),r=J(e,t=>{if($&&s=="local"&&I){const l=n=>{if(n.key===o&&n.newValue){let z;try{z=d.parse(n.newValue)}catch(x){E(n.newValue,x);return}const W=S(z);t(W)}};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)}}),{subscribe:i,set:c}=r;f[s][o]={set(t){c(t),V(o,t)},update(t){return r.update(l=>{const n=t(l);return V(o,n),n})},reset(){this.set(u)},subscribe:i}}return f[s][o]}O("teststore",!0);function A(o){}export{A as component};
