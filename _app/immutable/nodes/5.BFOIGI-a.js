import"../chunks/Bzak7iHL.js";import"../chunks/m5kGbGnf.js";import{p as Te,j as oe,av as ae,f as J,i as r,aw as H,d as B,t as se,a as o,s as T,c as ke,k as C,n as N,r as E,g as i,e as c,b as fe}from"../chunks/8W1ZFGhz.js";import{i as ve}from"../chunks/DyZeaouC.js";import{e as j}from"../chunks/Bm_VFvCf.js";import{c as f}from"../chunks/BxyT-HaH.js";import{c as Fe,T as Ve,g as Re,a as Se,b as ze,d as Ie,e as ne,f as Me,F as ge,h as De,i as me,r as Ae,A as He,j as P}from"../chunks/C09hbGJU.js";import{I as Ke}from"../chunks/C0uD8DpW.js";import{C as Ge}from"../chunks/Mltq4Cb4.js";import{L as Le}from"../chunks/CR3FK_qh.js";import{B as ie}from"../chunks/DZzzVXzt.js";import{A as je}from"../chunks/Bn6fqQfF.js";import{s as _e}from"../chunks/DwBxj07P.js";import{a as qe}from"../chunks/qzIG6cGZ.js";import{r as $e,p as le,s as Be}from"../chunks/BNZORXRz.js";import{p as Ne}from"../chunks/Dspl3R73.js";var Ee=J("<!> <!>",1),Je=J('<div class="grid max-h-screen w-full grid-cols-1 flex-col gap-3 rounded-md p-3"><div class="flex w-full flex-row items-center gap-3"><!> <div class="flex flex-row gap-2"><!> <!></div> <!></div> <!></div>');function Oe(t,s){Te(s,!0);const v=(e,a,l,ce)=>{const R=Ae(e.getValue(a),l);return ce({itemRank:R}),R.passed};let n=oe(ae([])),d=oe(ae([])),h=oe(ae({id:!1}));const u=Fe({get data(){return s.data},columns:s.columns,getCoreRowModel:ze(),getSortedRowModel:Se(),getFilteredRowModel:Re(),filterFns:{fuzzy:v},onSortingChange:e=>{typeof e=="function"?C(n,e(r(n)),!0):C(n,e,!0)},onColumnFiltersChange:e=>{typeof e=="function"?C(d,e(r(d)),!0):C(d,e,!0)},onColumnVisibilityChange:e=>{typeof e=="function"?C(h,e(r(h)),!0):C(h,e,!0)},state:{get sorting(){return r(n)},get columnFilters(){return r(d)},get columnVisibility(){return r(h)}}});var K=Je(),b=B(K),k=B(b);{let e=H(()=>{var a;return((a=u.getColumn("name"))==null?void 0:a.getFilterValue())??""});Ke(k,{placeholder:"Search",get value(){return r(e)},onchange:a=>{var l;(l=u.getColumn("name"))==null||l.setFilterValue(a.currentTarget.value)},oninput:a=>{var l;(l=u.getColumn("name"))==null||l.setFilterValue(a.currentTarget.value)},class:"grow"})}var F=T(k,2),G=B(F),V=()=>{var e;return(e=u.getColumn("id"))==null?void 0:e.getIsVisible()},pe=e=>{var a;return(a=u.getColumn("id"))==null?void 0:a.toggleVisibility(!!e)};Ge(G,{get checked(){return V()},set checked(e){pe(e)},id:"showid"});var he=T(G,2);Le(he,{for:"showid",class:"text-nowrap",children:(e,a)=>{N();var l=se("Show ID");o(e,l)},$$slots:{default:!0}}),E(F);var be=T(F,2);ie(be,{href:"https://github.com/EducationalTools/src/issues/new?template=gmae_request.yml",target:"_blank",children:(e,a)=>{N();var l=se("Request Gmae");o(e,l)},$$slots:{default:!0}}),E(b);var xe=T(b,2);f(xe,()=>Ve,(e,a)=>{a(e,{children:(l,ce)=>{var R=Ee(),de=i(R);f(de,()=>Ie,(O,Q)=>{Q(O,{class:"bg-background sticky top-0",children:(U,ye)=>{var S=c(),W=i(S);j(W,17,()=>u.getHeaderGroups(),g=>g.id,(g,_)=>{var $=c(),z=i($);f(z,()=>ne,(I,M)=>{M(I,{children:(L,D)=>{var A=c(),x=i(A);j(x,17,()=>r(_).headers,p=>p.id,(p,m)=>{var w=c(),y=i(w);f(y,()=>Me,(X,Y)=>{Y(X,{children:(Z,ue)=>{var ee=c(),te=i(ee);{var Ce=re=>{{let Pe=H(()=>r(m).getContext());ge(re,{get content(){return r(m).column.columnDef.header},get context(){return r(Pe)}})}};ve(te,re=>{r(m).isPlaceholder||re(Ce)})}o(Z,ee)},$$slots:{default:!0}})}),o(p,w)}),o(L,A)},$$slots:{default:!0}})}),o(g,$)}),o(U,S)},$$slots:{default:!0}})});var we=T(de,2);f(we,()=>De,(O,Q)=>{Q(O,{children:(U,ye)=>{var S=c(),W=i(S);j(W,17,()=>u.getRowModel().rows,g=>g.id,(g,_)=>{var $=c(),z=i($);{let I=H(()=>r(_).getIsSelected()&&"selected");f(z,()=>ne,(M,L)=>{L(M,{get"data-state"(){return r(I)},children:(D,A)=>{var x=c(),p=i(x);j(p,17,()=>r(_).getVisibleCells(),m=>m.id,(m,w)=>{var y=c(),X=i(y);f(X,()=>me,(Y,Z)=>{Z(Y,{children:(ue,ee)=>{{let te=H(()=>r(w).getContext());ge(ue,{get content(){return r(w).column.columnDef.cell},get context(){return r(te)}})}},$$slots:{default:!0}})}),o(m,y)}),o(D,x)},$$slots:{default:!0}})})}o(g,$)},g=>{var _=c(),$=i(_);f($,()=>ne,(z,I)=>{I(z,{children:(M,L)=>{var D=c(),A=i(D);f(A,()=>me,(x,p)=>{p(x,{get colspan(){return s.columns.length},class:"h-24 text-center",children:(m,w)=>{N();var y=se("No results.");o(m,y)},$$slots:{default:!0}})}),o(M,D)},$$slots:{default:!0}})}),o(g,_)}),o(U,S)},$$slots:{default:!0}})}),o(l,R)},$$slots:{default:!0}})}),E(K),o(t,K),ke()}function Qe(t,s){{let v=H(()=>"/g/"+s.id);ie(t,{variant:"ghost",size:"icon",class:"relative size-8 p-0",get href(){return r(v)},children:(n,d)=>{je(n,{})},$$slots:{default:!0}})}}var Ue=J("<a> </a>");function We(t,s){const v=$e(s,["$$slots","$$events","$$legacy","children"]);var n=Ue();qe(n,()=>({...v}));var d=B(n,!0);E(n),fe(()=>_e(d,s.children)),o(t,n)}var Xe=J(" <!>",1);function q(t,s){let v=le(s,"content",3,""),n=le(s,"variant",3,"ghost"),d=le(s,"sort",3,!1),h=$e(s,["$$slots","$$events","$$legacy","content","variant","sort"]);ie(t,Be({get variant(){return n()},class:"w-full"},()=>h,{children:(u,K)=>{N();var b=Xe(),k=i(b),F=T(k);{var G=V=>{He(V,{class:"ml-2"})};ve(F,V=>{d()&&V(G)})}fe(()=>_e(k,`${v()??""} `)),o(u,b)},$$slots:{default:!0}}))}const Ye=[{accessorKey:"id",header:({column:t})=>P(q,{content:"ID"})},{accessorKey:"name",header:({column:t})=>P(q,{onclick:t.getToggleSortingHandler(),content:"Name",sort:!0}),cell:({row:t})=>P(We,{children:t.original.name,href:`/g/${t.original.id}`}),filterFn:"fuzzy"},{accessorKey:"category",header:({column:t})=>P(q,{onclick:t.getToggleSortingHandler(),content:"Category",sort:!0})},{accessorKey:"description",header:({column:t})=>P(q,{content:"Description"})},{id:"actions",cell:({row:t})=>P(Qe,{id:t.original.id})}];function vt(t){Oe(t,{get data(){return Ne},get columns(){return Ye}})}export{vt as component};
