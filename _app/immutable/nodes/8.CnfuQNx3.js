import"../chunks/Bzak7iHL.js";import{p as ve,j as ee,z as te,f as le,a as r,b as $e,d as re,s as b,c as oe,i as t,k as F,l as T,n as N,r as se,g as l,e as i,t as Se}from"../chunks/d1nUEqUP.js";import{s as _e,d as Ve,p as ae,b as ze,r as Ie,a as Re}from"../chunks/CGq0iL3B.js";import{i as pe}from"../chunks/DGIKQ0Uj.js";import{e as G}from"../chunks/uG0PJdg3.js";import{c as m}from"../chunks/Bpp8RQHS.js";import{c as Me,g as De,a as He,b as Ae,T as Ke,f as je,d as ne,h as me,F as fe,i as Be,r as Ge,e as Le,A as Ne,j as K}from"../chunks/KkWHPXVb.js";import{I as qe}from"../chunks/vCFNmyFv.js";import{C as Ee}from"../chunks/BOViBGO5.js";import{L as Je}from"../chunks/lgyCcLFR.js";import{B as ie}from"../chunks/CXz5jp6g.js";import{h as he}from"../chunks/C-VHuNsD.js";import{g as Oe}from"../chunks/DkK6Tcb1.js";import{A as Qe}from"../chunks/C34-nzRt.js";import{s as Ue}from"../chunks/NkYtgyu8.js";import{g as We}from"../chunks/DD7QJCdi.js";var Xe=le("<!> <!>",1),Ye=le('<div class="grid max-h-screen w-full grid-cols-1 flex-col gap-3 rounded-md p-3"><div class="flex w-full flex-row items-center gap-3"><div class="flex h-full items-center justify-center rounded-md border border-dashed px-3 text-lg">History</div> <!> <div class="flex flex-row gap-2"><!> <!></div> <!></div> <!></div>');function Ze(o,a){ve(a,!0);const[y,$]=_e(),x=(e,s,n,ce)=>{const z=Ge(e.getValue(s),n);return ce({itemRank:z}),z.passed};let f=ee(te([])),d=ee(te([])),S=ee(te({id:!1}));const c=Me({get data(){return a.data},columns:a.columns,getCoreRowModel:Ae(),getSortedRowModel:He(),getFilteredRowModel:De(),filterFns:{fuzzy:x},onSortingChange:e=>{typeof e=="function"?F(f,e(t(f)),!0):F(f,e,!0)},onColumnFiltersChange:e=>{typeof e=="function"?F(d,e(t(d)),!0):F(d,e,!0)},onColumnVisibilityChange:e=>{typeof e=="function"?F(S,e(t(S)),!0):F(S,e,!0)},state:{get sorting(){return t(f)},get columnFilters(){return t(d)},get columnVisibility(){return t(S)}}});var w=Ye(),V=oe(w),j=b(oe(V),2);{let e=T(()=>{var s;return((s=c.getColumn("name"))==null?void 0:s.getFilterValue())??""});qe(j,{placeholder:"Search",get value(){return t(e)},onchange:s=>{var n;(n=c.getColumn("name"))==null||n.setFilterValue(s.currentTarget.value)},oninput:s=>{var n;(n=c.getColumn("name"))==null||n.setFilterValue(s.currentTarget.value)},class:"grow"})}var _=b(j,2),de=oe(_),be=()=>{var e;return(e=c.getColumn("id"))==null?void 0:e.getIsVisible()},ye=e=>{var s;return(s=c.getColumn("id"))==null?void 0:s.toggleVisibility(!!e)};Ee(de,{get checked(){return be()},set checked(e){ye(e)},id:"showid"});var xe=b(de,2);Je(xe,{for:"showid",class:"text-nowrap",children:(e,s)=>{N();var n=re("Show ID");r(e,n)},$$slots:{default:!0}}),se(_);var we=b(_,2);ie(we,{variant:"destructive",onclick:()=>Ve(he,[]),children:(e,s)=>{N();var n=re("Clear");r(e,n)},$$slots:{default:!0}}),se(V);var Ce=b(V,2);m(Ce,()=>Be,(e,s)=>{s(e,{children:(n,ce)=>{var z=Xe(),ue=l(z);m(ue,()=>Ke,(q,E)=>{E(q,{class:"bg-background sticky top-0",children:(J,ke)=>{var I=i(),O=l(I);G(O,17,()=>c.getHeaderGroups(),u=>u.id,(u,v)=>{var p=i(),R=l(p);m(R,()=>ne,(M,D)=>{D(M,{children:(B,H)=>{var A=i(),C=l(A);G(C,17,()=>t(v).headers,h=>h.id,(h,g)=>{var P=i(),k=l(P);m(k,()=>Le,(Q,U)=>{U(Q,{children:(W,ge)=>{var X=i(),Y=l(X);{var Fe=Z=>{{let Te=T(()=>t(g).getContext());fe(Z,{get content(){return t(g).column.columnDef.header},get context(){return t(Te)}})}};pe(Y,Z=>{t(g).isPlaceholder||Z(Fe)})}r(W,X)},$$slots:{default:!0}})}),r(h,P)}),r(B,A)},$$slots:{default:!0}})}),r(u,p)}),r(J,I)},$$slots:{default:!0}})});var Pe=b(ue,2);m(Pe,()=>je,(q,E)=>{E(q,{children:(J,ke)=>{var I=i(),O=l(I);G(O,17,()=>c.getRowModel().rows,u=>u.id,(u,v)=>{var p=i(),R=l(p);{let M=T(()=>t(v).getIsSelected()&&"selected");m(R,()=>ne,(D,B)=>{B(D,{get"data-state"(){return t(M)},onclick:()=>Oe(`/g/${t(v).original.id}`),class:"cursor-pointer",children:(H,A)=>{var C=i(),h=l(C);G(h,17,()=>t(v).getVisibleCells(),g=>g.id,(g,P)=>{var k=i(),Q=l(k);m(Q,()=>me,(U,W)=>{W(U,{children:(ge,X)=>{{let Y=T(()=>t(P).getContext());fe(ge,{get content(){return t(P).column.columnDef.cell},get context(){return t(Y)}})}},$$slots:{default:!0}})}),r(g,k)}),r(H,C)},$$slots:{default:!0}})})}r(u,p)},u=>{var v=i(),p=l(v);m(p,()=>ne,(R,M)=>{M(R,{children:(D,B)=>{var H=i(),A=l(H);m(A,()=>me,(C,h)=>{h(C,{get colspan(){return a.columns.length},class:"h-24 text-center",children:(g,P)=>{N();var k=re("No results.");r(g,k)},$$slots:{default:!0}})}),r(D,H)},$$slots:{default:!0}})}),r(u,v)}),r(J,I)},$$slots:{default:!0}})}),r(n,z)},$$slots:{default:!0}})}),se(w),r(o,w),$e(),$()}function et(o,a){{let y=T(()=>"/g/"+a.id);ie(o,{variant:"ghost",size:"icon",class:"relative size-8 p-0",get href(){return t(y)},children:($,x)=>{Qe($,{})},$$slots:{default:!0}})}}var tt=le(" <!>",1);function L(o,a){let y=ae(a,"content",3,""),$=ae(a,"variant",3,"ghost"),x=ae(a,"sort",3,!1),f=Ie(a,["$$slots","$$events","$$legacy","content","variant","sort"]);ie(o,ze({get variant(){return $()},class:"w-full"},()=>f,{children:(d,S)=>{N();var c=tt(),w=l(c),V=b(w);{var j=_=>{Ne(_,{class:"ml-2"})};pe(V,_=>{x()&&_(j)})}Se(()=>Ue(w,`${y()??""} `)),r(d,c)},$$slots:{default:!0}}))}const rt=[{accessorKey:"id",header:({column:o})=>K(L,{content:"ID"})},{accessorKey:"name",header:({column:o})=>K(L,{onclick:o.getToggleSortingHandler(),content:"Name",sort:!0}),filterFn:"fuzzy"},{accessorKey:"category",header:({column:o})=>K(L,{onclick:o.getToggleSortingHandler(),content:"Category",sort:!0})},{accessorKey:"description",header:({column:o})=>K(L,{content:"Description"})},{id:"actions",cell:({row:o})=>K(et,{id:o.original.id})}];function ht(o,a){ve(a,!0);const y=()=>Re(he,"$historyStore",$),[$,x]=_e();let f=T(()=>y().map(d=>We(d)).filter(d=>d!==void 0));Ze(o,{get data(){return t(f)},get columns(){return rt}}),$e(),x()}export{ht as component};
