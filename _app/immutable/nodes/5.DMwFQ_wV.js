import"../chunks/CWj6FrbW.js";import"../chunks/K45y5yMf.js";import{p as Te,l as oe,av as se,f as N,g as r,u as H,d as J,t as O,a,s as F,c as Fe,m as T,n as L,r as q,e as i,i as u,b as ie}from"../chunks/Cd13tLbQ.js";import{i as $e}from"../chunks/C1R1Yb0q.js";import{e as G,i as ke}from"../chunks/BPTZeVTr.js";import{c as v}from"../chunks/0bJNegf6.js";import{c as Ve,T as Re,g as Se,a as ze,b as Ie,d as Me,e as le,f as De,F as me,h as Ke,i as ve,r as Ae,A as Be,j as _}from"../chunks/RS-py5Nl.js";import{I as He}from"../chunks/CsCSiitt.js";import{C as Ge,L as Le}from"../chunks/5jafnW-H.js";import{B as ce}from"../chunks/Bs6Bh5AQ.js";import{A as qe}from"../chunks/CxWq2jQ7.js";import{s as de}from"../chunks/1ScPFJNN.js";import{b as Ne}from"../chunks/BJ1hp0v3.js";import{r as _e,p as ne,c as je}from"../chunks/DfCpWMhL.js";import{B as Ee}from"../chunks/DBscU4te.js";import{p as Je}from"../chunks/C43N6ReQ.js";var Oe=N("<!> <!>",1),Qe=N('<div class="grid max-h-screen w-full grid-cols-1 flex-col gap-3 rounded-md p-3"><div class="flex w-full flex-row items-center gap-3"><!> <div class="flex flex-row gap-2"><!> <!></div> <!></div> <!></div>');function Ue(t,o){Te(o,!0);const c=(e,l,n,ue)=>{const S=Ae(e.getValue(l),n);return ue({itemRank:S}),S.passed};let s=oe(se([])),d=oe(se([])),$=oe(se({id:!1}));const g=Ve({get data(){return o.data},columns:o.columns,getCoreRowModel:Ie(),getSortedRowModel:ze(),getFilteredRowModel:Se(),filterFns:{fuzzy:c},onSortingChange:e=>{typeof e=="function"?T(s,e(r(s)),!0):T(s,e,!0)},onColumnFiltersChange:e=>{typeof e=="function"?T(d,e(r(d)),!0):T(d,e,!0)},onColumnVisibilityChange:e=>{typeof e=="function"?T($,e(r($)),!0):T($,e,!0)},state:{get sorting(){return r(s)},get columnFilters(){return r(d)},get columnVisibility(){return r($)}}});var p=Qe(),w=J(p),k=J(w);{let e=H(()=>{var l;return((l=g.getColumn("name"))==null?void 0:l.getFilterValue())??""});He(k,{placeholder:"Search",get value(){return r(e)},onchange:l=>{var n;(n=g.getColumn("name"))==null||n.setFilterValue(l.currentTarget.value)},oninput:l=>{var n;(n=g.getColumn("name"))==null||n.setFilterValue(l.currentTarget.value)},class:"grow"})}var V=F(k,2),j=J(V),R=()=>{var e;return(e=g.getColumn("id"))==null?void 0:e.getIsVisible()},pe=e=>{var l;return(l=g.getColumn("id"))==null?void 0:l.toggleVisibility(!!e)};Ge(j,{get checked(){return R()},set checked(e){pe(e)},id:"showid"});var he=F(j,2);Le(he,{for:"showid",class:"text-nowrap",children:(e,l)=>{L();var n=O("Show ID");a(e,n)},$$slots:{default:!0}}),q(V);var be=F(V,2);ce(be,{href:"https://github.com/EducationalTools/src/issues/new?template=gmae_request.yml",target:"_blank",children:(e,l)=>{L();var n=O("Request Gmae");a(e,n)},$$slots:{default:!0}}),q(w);var xe=F(w,2);v(xe,()=>Re,(e,l)=>{l(e,{children:(n,ue)=>{var S=Oe(),ge=i(S);v(ge,()=>Me,(Q,U)=>{U(Q,{class:"bg-background sticky top-0",children:(W,ye)=>{var z=u(),X=i(z);G(X,17,()=>g.getHeaderGroups(),f=>f.id,(f,h)=>{var b=u(),I=i(b);v(I,()=>le,(M,D)=>{D(M,{children:(E,K)=>{var A=u(),y=i(A);G(y,17,()=>r(h).headers,x=>x.id,(x,m)=>{var C=u(),P=i(C);v(P,()=>De,(Y,Z)=>{Z(Y,{children:(ee,fe)=>{var te=u(),re=i(te);{var Ce=ae=>{{let Pe=H(()=>r(m).getContext());me(ae,{get content(){return r(m).column.columnDef.header},get context(){return r(Pe)}})}};$e(re,ae=>{r(m).isPlaceholder||ae(Ce)})}a(ee,te)},$$slots:{default:!0}})}),a(x,C)}),a(E,A)},$$slots:{default:!0}})}),a(f,b)}),a(W,z)},$$slots:{default:!0}})});var we=F(ge,2);v(we,()=>Ke,(Q,U)=>{U(Q,{children:(W,ye)=>{var z=u(),X=i(z);G(X,17,()=>g.getRowModel().rows,f=>f.id,(f,h)=>{var b=u(),I=i(b);{let M=H(()=>r(h).getIsSelected()&&"selected");v(I,()=>le,(D,E)=>{E(D,{get"data-state"(){return r(M)},children:(K,A)=>{var y=u(),x=i(y);G(x,17,()=>r(h).getVisibleCells(),m=>m.id,(m,C)=>{var P=u(),Y=i(P);v(Y,()=>ve,(Z,ee)=>{ee(Z,{children:(fe,te)=>{{let re=H(()=>r(C).getContext());me(fe,{get content(){return r(C).column.columnDef.cell},get context(){return r(re)}})}},$$slots:{default:!0}})}),a(m,P)}),a(K,y)},$$slots:{default:!0}})})}a(f,b)},f=>{var h=u(),b=i(h);v(b,()=>le,(I,M)=>{M(I,{children:(D,E)=>{var K=u(),A=i(K);v(A,()=>ve,(y,x)=>{x(y,{get colspan(){return o.columns.length},class:"h-24 text-center",children:(m,C)=>{L();var P=O("No results.");a(m,P)},$$slots:{default:!0}})}),a(D,K)},$$slots:{default:!0}})}),a(f,h)}),a(W,z)},$$slots:{default:!0}})}),a(n,S)},$$slots:{default:!0}})}),q(p),a(t,p),Fe()}function We(t,o){{let c=H(()=>"/g/"+o.id);ce(t,{variant:"ghost",size:"icon",class:"relative size-8 p-0",get href(){return r(c)},children:(s,d)=>{qe(s,{})},$$slots:{default:!0}})}}var Xe=N("<a> </a>");function Ye(t,o){const c=_e(o,["$$slots","$$events","$$legacy","children"]);var s=Xe();Ne(s,()=>({...c}));var d=J(s,!0);q(s),ie(()=>de(d,o.children)),a(t,s)}var Ze=N('<div class="flex w-full flex-row flex-wrap gap-2"></div>');function et(t,o){var c=Ze();G(c,21,()=>o.tags||[],ke,(s,d)=>{Ee(s,{variant:"default",children:($,g)=>{L();var p=O();ie(()=>de(p,`#${r(d)??""}`)),a($,p)},$$slots:{default:!0}})}),q(c),a(t,c)}var tt=N(" <!>",1);function B(t,o){let c=ne(o,"content",3,""),s=ne(o,"variant",3,"ghost"),d=ne(o,"sort",3,!1),$=_e(o,["$$slots","$$events","$$legacy","content","variant","sort"]);ce(t,je({get variant(){return s()},class:"w-full"},()=>$,{children:(g,p)=>{L();var w=tt(),k=i(w),V=F(k);{var j=R=>{Be(R,{class:"ml-2"})};$e(V,R=>{d()&&R(j)})}ie(()=>de(k,`${c()??""} `)),a(g,w)},$$slots:{default:!0}}))}const rt=[{accessorKey:"id",header:({column:t})=>_(B,{content:"ID"})},{accessorKey:"name",header:({column:t})=>_(B,{onclick:t.getToggleSortingHandler(),content:"Name",sort:!0}),cell:({row:t})=>_(Ye,{children:t.original.name,href:`/g/${t.original.id}`}),filterFn:"fuzzy"},{accessorKey:"category",header:({column:t})=>_(B,{onclick:t.getToggleSortingHandler(),content:"Category",sort:!0})},{accessorKey:"description",header:({column:t})=>_(B,{content:"Description"})},{accessorKey:"tags",header:({column:t})=>_(B,{content:"Tags"}),cell:({row:t})=>_(et,{tags:t.original.tags})},{id:"actions",cell:({row:t})=>_(We,{id:t.original.id})}];function ht(t){Ue(t,{get data(){return Je},get columns(){return rt}})}export{ht as component};
