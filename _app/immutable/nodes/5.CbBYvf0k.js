import"../chunks/Bzak7iHL.js";import"../chunks/d94VkTDF.js";import{p as Te,g as oe,ax as ae,f as J,a as o,b as Fe,d as se,s as T,c as B,j as r,e as C,u as H,n as N,r as E,i,h as c,t as fe}from"../chunks/90-DEOan.js";import{i as ve}from"../chunks/DFZ8ND2l.js";import{e as j}from"../chunks/CiZliv5P.js";import{c as f}from"../chunks/DP98yRtV.js";import{c as ke,g as Ve,a as Re,b as Se,T as ze,d as Ie,e as ne,f as ge,F as me,h as Me,r as De,i as Ae,A as He,j as P}from"../chunks/DP9OL_No.js";import{I as Ke}from"../chunks/B4ac5p5D.js";import{C as Ge}from"../chunks/D6rmcX9D.js";import{L as Le}from"../chunks/BGdd-mPM.js";import{B as ie}from"../chunks/Ce_EolSp.js";import{A as je}from"../chunks/62eEMhKw.js";import{s as _e}from"../chunks/DZ7ApB9w.js";import{a as qe}from"../chunks/1EXD_2pQ.js";import{r as $e,p as le,s as Be}from"../chunks/oLVG0urQ.js";import{p as Ne}from"../chunks/HaAXMvNQ.js";var Ee=J("<!> <!>",1),Je=J('<div class="grid max-h-screen w-full grid-cols-1 flex-col gap-3 rounded-md p-3"><div class="flex w-full flex-row items-center gap-3"><!> <div class="flex flex-row gap-2"><!> <!></div> <!></div> <!></div>');function Oe(t,s){Te(s,!0);const v=(e,a,l,ce)=>{const R=De(e.getValue(a),l);return ce({itemRank:R}),R.passed};let n=oe(ae([])),d=oe(ae([])),h=oe(ae({id:!1}));const u=ke({get data(){return s.data},columns:s.columns,getCoreRowModel:Se(),getSortedRowModel:Re(),getFilteredRowModel:Ve(),filterFns:{fuzzy:v},onSortingChange:e=>{typeof e=="function"?C(n,e(r(n)),!0):C(n,e,!0)},onColumnFiltersChange:e=>{typeof e=="function"?C(d,e(r(d)),!0):C(d,e,!0)},onColumnVisibilityChange:e=>{typeof e=="function"?C(h,e(r(h)),!0):C(h,e,!0)},state:{get sorting(){return r(n)},get columnFilters(){return r(d)},get columnVisibility(){return r(h)}}});var K=Je(),b=B(K),F=B(b);{let e=H(()=>{var a;return((a=u.getColumn("name"))==null?void 0:a.getFilterValue())??""});Ke(F,{placeholder:"Search",get value(){return r(e)},onchange:a=>{var l;(l=u.getColumn("name"))==null||l.setFilterValue(a.currentTarget.value)},oninput:a=>{var l;(l=u.getColumn("name"))==null||l.setFilterValue(a.currentTarget.value)},class:"grow"})}var k=T(F,2),G=B(k),V=()=>{var e;return(e=u.getColumn("id"))==null?void 0:e.getIsVisible()},pe=e=>{var a;return(a=u.getColumn("id"))==null?void 0:a.toggleVisibility(!!e)};Ge(G,{get checked(){return V()},set checked(e){pe(e)},id:"showid"});var he=T(G,2);Le(he,{for:"showid",class:"text-nowrap",children:(e,a)=>{N();var l=se("Show ID");o(e,l)},$$slots:{default:!0}}),E(k);var be=T(k,2);ie(be,{href:"https://github.com/EducationalTools/src/issues/new?template=gmae_request.yml",target:"_blank",children:(e,a)=>{N();var l=se("Request Gmae");o(e,l)},$$slots:{default:!0}}),E(b);var xe=T(b,2);f(xe,()=>Me,(e,a)=>{a(e,{children:(l,ce)=>{var R=Ee(),de=i(R);f(de,()=>ze,(O,Q)=>{Q(O,{class:"bg-background sticky top-0",children:(U,we)=>{var S=c(),W=i(S);j(W,17,()=>u.getHeaderGroups(),g=>g.id,(g,_)=>{var $=c(),z=i($);f(z,()=>ne,(I,M)=>{M(I,{children:(L,D)=>{var A=c(),x=i(A);j(x,17,()=>r(_).headers,p=>p.id,(p,m)=>{var y=c(),w=i(y);f(w,()=>Ae,(X,Y)=>{Y(X,{children:(Z,ue)=>{var ee=c(),te=i(ee);{var Ce=re=>{{let Pe=H(()=>r(m).getContext());me(re,{get content(){return r(m).column.columnDef.header},get context(){return r(Pe)}})}};ve(te,re=>{r(m).isPlaceholder||re(Ce)})}o(Z,ee)},$$slots:{default:!0}})}),o(p,y)}),o(L,A)},$$slots:{default:!0}})}),o(g,$)}),o(U,S)},$$slots:{default:!0}})});var ye=T(de,2);f(ye,()=>Ie,(O,Q)=>{Q(O,{children:(U,we)=>{var S=c(),W=i(S);j(W,17,()=>u.getRowModel().rows,g=>g.id,(g,_)=>{var $=c(),z=i($);{let I=H(()=>r(_).getIsSelected()&&"selected");f(z,()=>ne,(M,L)=>{L(M,{get"data-state"(){return r(I)},children:(D,A)=>{var x=c(),p=i(x);j(p,17,()=>r(_).getVisibleCells(),m=>m.id,(m,y)=>{var w=c(),X=i(w);f(X,()=>ge,(Y,Z)=>{Z(Y,{children:(ue,ee)=>{{let te=H(()=>r(y).getContext());me(ue,{get content(){return r(y).column.columnDef.cell},get context(){return r(te)}})}},$$slots:{default:!0}})}),o(m,w)}),o(D,x)},$$slots:{default:!0}})})}o(g,$)},g=>{var _=c(),$=i(_);f($,()=>ne,(z,I)=>{I(z,{children:(M,L)=>{var D=c(),A=i(D);f(A,()=>ge,(x,p)=>{p(x,{get colspan(){return s.columns.length},class:"h-24 text-center",children:(m,y)=>{N();var w=se("No results.");o(m,w)},$$slots:{default:!0}})}),o(M,D)},$$slots:{default:!0}})}),o(g,_)}),o(U,S)},$$slots:{default:!0}})}),o(l,R)},$$slots:{default:!0}})}),E(K),o(t,K),Fe()}function Qe(t,s){{let v=H(()=>"/g/"+s.id);ie(t,{variant:"ghost",size:"icon",class:"relative size-8 p-0",get href(){return r(v)},children:(n,d)=>{je(n,{})},$$slots:{default:!0}})}}var Ue=J("<a> </a>");function We(t,s){const v=$e(s,["$$slots","$$events","$$legacy","children"]);var n=Ue();qe(n,()=>({...v}));var d=B(n,!0);E(n),fe(()=>_e(d,s.children)),o(t,n)}var Xe=J(" <!>",1);function q(t,s){let v=le(s,"content",3,""),n=le(s,"variant",3,"ghost"),d=le(s,"sort",3,!1),h=$e(s,["$$slots","$$events","$$legacy","content","variant","sort"]);ie(t,Be({get variant(){return n()},class:"w-full"},()=>h,{children:(u,K)=>{N();var b=Xe(),F=i(b),k=T(F);{var G=V=>{He(V,{class:"ml-2"})};ve(k,V=>{d()&&V(G)})}fe(()=>_e(F,`${v()??""} `)),o(u,b)},$$slots:{default:!0}}))}const Ye=[{accessorKey:"id",header:({column:t})=>P(q,{content:"ID"})},{accessorKey:"name",header:({column:t})=>P(q,{onclick:t.getToggleSortingHandler(),content:"Name",sort:!0}),cell:({row:t})=>P(We,{children:t.original.name,href:`/g/${t.original.id}`}),filterFn:"fuzzy"},{accessorKey:"category",header:({column:t})=>P(q,{onclick:t.getToggleSortingHandler(),content:"Category",sort:!0})},{accessorKey:"description",header:({column:t})=>P(q,{content:"Description"})},{id:"actions",cell:({row:t})=>P(Qe,{id:t.original.id})}];function vt(t){Oe(t,{get data(){return Ne},get columns(){return Ye}})}export{vt as component};
