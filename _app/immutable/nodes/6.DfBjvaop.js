import{e as be}from"../chunks/djvsYbDl.js";import{g as ue}from"../chunks/DyxdCUti.js";import"../chunks/Bzak7iHL.js";import"../chunks/BGlJUDeJ.js";import{p as b,e as y,g as p,h as z,a as d,c as M,i as o,ay as ye,f as $,d as _,s as v,r as g,n as x,t as Me,b as j,I as re}from"../chunks/ObsN8SXJ.js";import{k as ke}from"../chunks/DPxfc5wp.js";import{i as Se}from"../chunks/TLU54zQg.js";import{o as Pe}from"../chunks/Dnpt5NE6.js";import{a as F,s as N}from"../chunks/DWRHxY04.js";import{i as Ne}from"../chunks/DHMbNryI.js";import{e as oe,i as se}from"../chunks/vEUXzi4d.js";import{f as ne,s as D,e as ie,h as Be}from"../chunks/C8a7bI_w.js";import{s as C,r as E,c as G,d as le,a as Te,e as ze}from"../chunks/CZ3-Z9GB.js";import{B}from"../chunks/BN9Wrzs2.js";import"../chunks/CSQbFd26.js";import"../chunks/SdDjTzR6.js";import{B as Fe,b as de}from"../chunks/DDrC7kf-.js";import{h as ce,f as J,p as me}from"../chunks/CttezmvC.js";import{_ as T}from"../chunks/CqHE2nnZ.js";import{A as Ce}from"../chunks/DOF66MlM.js";import{I as H}from"../chunks/UgyVk1cn.js";import{t as fe}from"../chunks/CivmAMI8.js";import{B as ve}from"../chunks/D98xgtRz.js";import{p as pe}from"../chunks/DzGqsf0G.js";function Ee(m,r){b(r,!0);/**
 * @license @lucide/svelte v0.515.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let c=E(r,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"m8 2 1.88 1.88"}],["path",{d:"M14.12 3.88 16 2"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6"}],["path",{d:"M12 20v-9"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5"}],["path",{d:"M6 13H2"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4"}],["path",{d:"M22 13h-4"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4"}]];H(m,C({name:"bug"},()=>c,{get iconNode(){return h},children:(l,k)=>{var i=y(),u=p(i);F(u,()=>r.children??z),d(l,i)},$$slots:{default:!0}})),M()}function he(m,r){b(r,!0);/**
 * @license @lucide/svelte v0.515.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let c=E(r,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]];H(m,C({name:"external-link"},()=>c,{get iconNode(){return h},children:(l,k)=>{var i=y(),u=p(i);F(u,()=>r.children??z),d(l,i)},$$slots:{default:!0}})),M()}function He(m,r){b(r,!0);/**
 * @license @lucide/svelte v0.515.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let c=E(r,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"}]];H(m,C({name:"maximize"},()=>c,{get iconNode(){return h},children:(l,k)=>{var i=y(),u=p(i);F(u,()=>r.children??z),d(l,i)},$$slots:{default:!0}})),M()}function Ie(m,r){b(r,!0);/**
 * @license @lucide/svelte v0.515.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let c=E(r,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]];H(m,C({name:"refresh-cw"},()=>c,{get iconNode(){return h},children:(l,k)=>{var i=y(),u=p(i);F(u,()=>r.children??z),d(l,i)},$$slots:{default:!0}})),M()}function je(m,r){b(r,!0);/**
 * @license @lucide/svelte v0.515.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let c=E(r,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"M12 2v13"}],["path",{d:"m16 6-4-4-4 4"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}]];H(m,C({name:"share"},()=>c,{get iconNode(){return h},children:(l,k)=>{var i=y(),u=p(i);F(u,()=>r.children??z),d(l,i)},$$slots:{default:!0}})),M()}function qe({url:m}){if(!ue(m.pathname.split("/").slice(2).join("/")))throw be(404,"Not Found")}const $a=Object.freeze(Object.defineProperty({__proto__:null,load:qe},Symbol.toStringTag,{value:"Module"}));var Re=$('<a target="_blank" rel="noopener noreferrer"><!> </a>'),Ve=$("<!> Reload",1),Ae=$("<!> Fullscreen",1),Le=$("<!> ",1),Oe=$("<!> Share",1),De=$("<!> Saved",1),Ge=$("<!> Save",1),Je=$("<!> Report Bug",1),Ke=$('<div class="flex h-full w-full flex-col gap-3 p-2 md:pl-0"><iframe frameborder="0" class="grow rounded-lg"></iframe> <div class="flex w-full flex-col gap-2 md:flex-row"><div class="flex flex-col gap-2"><a href="/"> <!></a> <h1 class="text-4xl font-bold"> </h1> <div class="flex w-full flex-row flex-wrap gap-2"><!> <!></div> <p class="text-xl"> </p></div> <div class="grow"></div> <div class="grid h-fit min-w-72 grid-cols-2 gap-3"><!> <!> <!> <!> <!> <!></div></div></div>');function Qe(m,r){b(r,!0);const[c,h]=Te(),l=()=>G(me,"$preferencesStore",c),k=()=>G(ce,"$historyStore",c),i=()=>G(J,"$favoritesStore",c);function u(e){e=location.origin+e;var t;if(l().open==="tab")t=window.open("","_blank");else if(l().open==="window")t=window.open("","_blank","width=800,height=600");else{ze(me,re(l).open="tab",re(l)),u(e);return}if(!t)return;const a=t.document,n=a.createElement("style");n.textContent="body, html { margin: 0; padding: 0; height: 100%; }",a.head.appendChild(n);const f=a.createElement("iframe");f.src=e,f.style.cssText="width: 100%; height: 100%; border: none;",a.body.appendChild(f)}const s=ye(()=>ue(r.id));if(l().history){let e=k();e.includes(r.id)&&(e=e.filter(t=>t!==r.id)),e.push(r.id),ce.set(e)}Pe(()=>{var e,t;T.capture("gmae_open",{gmae_id:(e=o(s))==null?void 0:e.id,gmae_name:(t=o(s))==null?void 0:t.name})});var q=Ke(),R=_(q),K=v(R,2),V=_(K),I=_(V),Q=_(I,!0),_e=v(Q);Ce(_e,{class:"ml-1 size-3"}),g(I);var A=v(I,2),ge=_(A,!0);g(A);var L=v(A,2),U=_(L);oe(U,17,()=>{var e;return((e=o(s))==null?void 0:e.tags)||[]},se,(e,t)=>{Fe(e,{variant:"default",children:(a,n)=>{x();var f=Me();j(()=>N(f,`#${o(t)??""}`)),d(a,f)},$$slots:{default:!0}})});var $e=v(U,2);oe($e,17,()=>{var e;return((e=o(s))==null?void 0:e.links)||[]},se,(e,t)=>{var a=Re(),n=_(a);he(n,{class:"mr-1 size-3"});var f=v(n,1,!0);g(a),j(S=>{D(a,"href",o(t).url),ie(a,1,S),N(f,o(t).name)},[()=>ne(de({variant:"outline"}))]),d(e,a)}),g(L);var W=v(L,2),we=_(W,!0);g(W),g(V);var X=v(V,4),Y=_(X);B(Y,{variant:"outline",onclick:()=>{var t,a;T.capture("gmae_reload",{gmae_id:(t=o(s))==null?void 0:t.id});const e=document.querySelector("iframe");e&&((a=o(s))!=null&&a.url)&&(e.src=o(s).url)},children:(e,t)=>{var a=Ve(),n=p(a);Ie(n,{class:"h-6 w-6"}),x(),d(e,a)},$$slots:{default:!0}});var Z=v(Y,2);B(Z,{variant:"outline",onclick:()=>{var e,t;T.capture("gmae_fullscreen",{gmae_id:(e=o(s))==null?void 0:e.id}),(t=document.querySelector("iframe"))==null||t.requestFullscreen()},children:(e,t)=>{var a=Ae(),n=p(a);He(n,{class:"h-6 w-6"}),x(),d(e,a)},$$slots:{default:!0}});var ee=v(Z,2);B(ee,{variant:"outline",onclick:()=>{var e,t;T.capture("gmae_new_tab",{gmae_id:(e=o(s))==null?void 0:e.id}),(t=o(s))!=null&&t.url&&u(o(s).url)},children:(e,t)=>{var a=Le(),n=p(a);he(n,{class:"h-6 w-6"});var f=v(n);j(()=>N(f,` New ${l().open??""}`)),d(e,a)},$$slots:{default:!0}});var ae=v(ee,2);B(ae,{variant:"outline",onclick:()=>{var e;T.capture("gmae_share",{gmae_id:(e=o(s))==null?void 0:e.id}),navigator.share?navigator.share({text:window.location.href}).catch(()=>{navigator.clipboard.writeText(window.location.href),fe.error("Failed to share link, copied to clipboard instead.")}):(navigator.clipboard.writeText(window.location.href),fe.error("Failed to share link, copied to clipboard instead."))},children:(e,t)=>{var a=Oe(),n=p(a);je(n,{class:"h-6 w-6"}),x(),d(e,a)},$$slots:{default:!0}});var te=v(ae,2);B(te,{variant:"outline",onclick:()=>{var e,t;T.capture("gmae_favorite",{gmae_id:(e=o(s))==null?void 0:e.id}),(t=o(s))!=null&&t.id&&(i().includes(o(s).id)?le(J,i().filter(a=>a!==o(s).id)):le(J,[...i(),o(s).id]))},children:(e,t)=>{var a=y(),n=p(a);{var f=P=>{var w=De(),O=p(w);ve(O,{class:"h-6 w-6 text-red-400"}),x(),d(P,w)},S=P=>{var w=Ge(),O=p(w);ve(O,{class:"h-6 w-6"}),x(),d(P,w)};Ne(n,P=>{var w;(w=o(s))!=null&&w.id&&i().includes(o(s).id)?P(f):P(S,!1)})}d(e,a)},$$slots:{default:!0}});var xe=v(te,2);B(xe,{variant:"outline",href:"https://github.com/EducationalTools/src/issues/new?template=bug_report.yml",target:"_blank",rel:"noopener noreferrer",children:(e,t)=>{var a=Je(),n=p(a);Ee(n,{}),x(),d(e,a)},$$slots:{default:!0}}),g(X),g(K),g(q),j(e=>{var t,a,n,f,S;D(R,"src",(t=o(s))==null?void 0:t.url),D(R,"title",(a=o(s))==null?void 0:a.name),ie(I,1,e),N(Q,(n=o(s))==null?void 0:n.category),N(ge,(f=o(s))==null?void 0:f.name),N(we,(S=o(s))==null?void 0:S.description)},[()=>ne(Be(de({variant:"secondary"}),"w-fit"))]),d(m,q),M(),h()}function wa(m,r){b(r,!1),Se();var c=y(),h=p(c);ke(h,()=>pe.params.id,l=>{Qe(l,{get id(){return pe.params.id}})}),d(m,c),M()}export{wa as component,$a as universal};
