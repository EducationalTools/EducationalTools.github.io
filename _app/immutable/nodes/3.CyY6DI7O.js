import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{f as v,p as Y,c as b,s as u,r as k,n as x,g as d,M as re,t as se,a as Z,v as j}from"../chunks/7EBfyDKP.js";import{m as S,s as N,c as $,a as c,o as E,t as _,q as A,u as ne,v as ie}from"../chunks/By-foYrL.js";import{I as P,s as z,k as le}from"../chunks/RA0SIg4b.js";import{i as de}from"../chunks/CiRJww8G.js";import{s as J}from"../chunks/CWLlXZFj.js";import{i as ce}from"../chunks/C4C9X__R.js";import{b as K}from"../chunks/CBlZiSbp.js";import{B as M}from"../chunks/VDBWToi-.js";import{o as fe}from"../chunks/ZO5U5icO.js";import{t as O}from"../chunks/C9-g4l2p.js";import{h as Q,f as H,p as U,g as ve}from"../chunks/BrWWvseQ.js";import{p as W}from"../chunks/DeLhE482.js";function pe(f,t){const s=S(t,["children","$$slots","$$events","$$legacy"]);P(f,N({name:"refresh-cw"},()=>s,{iconNode:[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]],children:(n,g)=>{var o=$(),p=v(o);z(p,t,"default",{},null),c(n,o)},$$slots:{default:!0}}))}function me(f,t){const s=S(t,["children","$$slots","$$events","$$legacy"]);P(f,N({name:"maximize"},()=>s,{iconNode:[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"}]],children:(n,g)=>{var o=$(),p=v(o);z(p,t,"default",{},null),c(n,o)},$$slots:{default:!0}}))}function he(f,t){const s=S(t,["children","$$slots","$$events","$$legacy"]);P(f,N({name:"external-link"},()=>s,{iconNode:[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]],children:(n,g)=>{var o=$(),p=v(o);z(p,t,"default",{},null),c(n,o)},$$slots:{default:!0}}))}function ue(f,t){const s=S(t,["children","$$slots","$$events","$$legacy"]);P(f,N({name:"share"},()=>s,{iconNode:[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}],["polyline",{points:"16 6 12 2 8 6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15"}]],children:(n,g)=>{var o=$(),p=v(o);z(p,t,"default",{},null),c(n,o)},$$slots:{default:!0}}))}function X(f,t){const s=S(t,["children","$$slots","$$events","$$legacy"]);P(f,N({name:"bookmark"},()=>s,{iconNode:[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"}]],children:(n,g)=>{var o=$(),p=v(o);z(p,t,"default",{},null),c(n,o)},$$slots:{default:!0}}))}var $e=_("<!> Reload",1),_e=_("<!> Fullscreen",1),ge=_("<!> New tab",1),we=_("<!> Share",1),xe=_("<!> Saved",1),ye=_("<!> Save",1),be=_('<div class="flex h-full w-full flex-row gap-3 p-3"><iframe frameborder="0" class="flex-grow rounded"></iframe> <div class="flex h-full w-72 flex-col"><h1 class="text-4xl font-bold"> </h1> <p class="text-xl"> </p> <div class="flex-grow"></div> <div class="flex flex-col gap-3"><!> <!> <!> <!> <!></div></div></div>');function ke(f,t){Y(t,!0);const[s,m]=ne(),n=()=>E(U,"$preferencesStore",s),g=()=>E(Q,"$historyStore",s),o=()=>E(H,"$favoritesStore",s);function p(e){e=location.origin+e;var r;if(n().open==="tab")r=window.open("","_blank");else if(n().open==="window")r=window.open("","_blank");else{ie(U,j(n).open="tab",j(n)),p(e);return}if(!r)return;const a=r.document,i=a.createElement("style");i.textContent="body, html { margin: 0; padding: 0; height: 100%; }",a.head.appendChild(i);const y=a.createElement("iframe");y.src=e,y.style.cssText="width: 100%; height: 100%; border: none;",a.body.appendChild(y)}const l=re(()=>ve(t.id));fe(()=>{let e=g();e.includes(t.id)&&(e=e.filter(r=>r!==t.id)),e.push(t.id),Q.set(e)});var T=be(),q=b(T),I=u(q,2),B=b(I),ee=b(B,!0);k(B);var F=u(B,2),te=b(F,!0);k(F);var V=u(F,4),L=b(V);M(L,{variant:"outline",onclick:()=>{var r;const e=document.querySelector("iframe");e&&((r=d(l))!=null&&r.url)&&(e.src=d(l).url)},children:(e,r)=>{var a=$e(),i=v(a);pe(i,{class:"h-6 w-6"}),x(),c(e,a)},$$slots:{default:!0}});var R=u(L,2);M(R,{variant:"outline",onclick:()=>{var e;(e=document.querySelector("iframe"))==null||e.requestFullscreen()},children:(e,r)=>{var a=_e(),i=v(a);me(i,{class:"h-6 w-6"}),x(),c(e,a)},$$slots:{default:!0}});var D=u(R,2);M(D,{variant:"outline",onclick:()=>{var e;(e=d(l))!=null&&e.url&&p(d(l).url)},children:(e,r)=>{var a=ge(),i=v(a);he(i,{class:"h-6 w-6"}),x(),c(e,a)},$$slots:{default:!0}});var G=u(D,2);M(G,{variant:"outline",onclick:()=>{navigator.share?navigator.share({text:window.location.href}).catch(()=>{navigator.clipboard.writeText(window.location.href),O.error("Failed to share link, copied to clipboard instead.")}):(navigator.clipboard.writeText(window.location.href),O.error("Failed to share link, copied to clipboard instead."))},children:(e,r)=>{var a=we(),i=v(a);ue(i,{class:"h-6 w-6"}),x(),c(e,a)},$$slots:{default:!0}});var ae=u(G,2);M(ae,{variant:"outline",onclick:()=>{var e;(e=d(l))!=null&&e.id&&(o().includes(d(l).id)?A(H,o().filter(r=>r!==d(l).id)):A(H,[...o(),d(l).id]))},children:(e,r)=>{var a=$(),i=v(a);{var y=w=>{var h=xe(),C=v(h);X(C,{class:"h-6 w-6 text-red-400"}),x(),c(w,h)},oe=w=>{var h=ye(),C=v(h);X(C,{class:"h-6 w-6"}),x(),c(w,h)};ce(i,w=>{var h;(h=d(l))!=null&&h.id&&o().includes(d(l).id)?w(y):w(oe,!1)})}c(e,a)},$$slots:{default:!0}}),k(V),k(I),k(T),se(()=>{var e,r,a,i;K(q,"src",(e=d(l))==null?void 0:e.url),K(q,"title",(r=d(l))==null?void 0:r.name),J(ee,(a=d(l))==null?void 0:a.name),J(te,(i=d(l))==null?void 0:i.description)}),c(f,T),Z(),m()}function Le(f,t){Y(t,!1),de();var s=$(),m=v(s);le(m,()=>W.params.id,n=>{ke(n,{get id(){return W.params.id}})}),c(f,s),Z()}export{Le as component};
