import"../chunks/Bg9kRutz.js";import{y as m,p as X,t as Y,a as Z,s as c,c as _,g as i,q as L,r as g,x as ee}from"../chunks/CgmeL96d.js";import{s as O}from"../chunks/DR8sw5Ah.js";import{i as ae}from"../chunks/CK9kfPUI.js";import{m as b,s as y,d as k,a as f,t as x,n as te,o as V,q as D,f as G,u as se}from"../chunks/BSrTQBn5.js";import{b as j}from"../chunks/Cpg9vGHn.js";import{p as oe}from"../chunks/CuXK4Mu4.js";import{B as w}from"../chunks/mrs7gEyg.js";import"../chunks/69_IOA4Y.js";import{t as A}from"../chunks/B18-pAEL.js";import{f as q,p as J,g as re}from"../chunks/DiUXfNbl.js";import{I as z,s as M}from"../chunks/JPGqSeBS.js";function ne(p,o){const d=b(o,["children","$$slots","$$events","$$legacy"]);z(p,y({name:"maximize"},()=>d,{iconNode:[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"}]],children:(l,v)=>{var s=k(),a=m(s);M(a,o,"default",{},null),f(l,s)},$$slots:{default:!0}}))}function le(p,o){const d=b(o,["children","$$slots","$$events","$$legacy"]);z(p,y({name:"external-link"},()=>d,{iconNode:[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]],children:(l,v)=>{var s=k(),a=m(s);M(a,o,"default",{},null),f(l,s)},$$slots:{default:!0}}))}function ie(p,o){const d=b(o,["children","$$slots","$$events","$$legacy"]);z(p,y({name:"share"},()=>d,{iconNode:[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}],["polyline",{points:"16 6 12 2 8 6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15"}]],children:(l,v)=>{var s=k(),a=m(s);M(a,o,"default",{},null),f(l,s)},$$slots:{default:!0}}))}function K(p,o){const d=b(o,["children","$$slots","$$events","$$legacy"]);z(p,y({name:"star"},()=>d,{iconNode:[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"}]],children:(l,v)=>{var s=k(),a=m(s);M(a,o,"default",{},null),f(l,s)},$$slots:{default:!0}}))}var de=x('<span class="sr-only">Fullscreen</span> <!>',1),ce=x('<span class="sr-only">Open in new tab</span> <!>',1),pe=x('<span class="sr-only">Share</span> <!>',1),fe=x('<span class="sr-only">Open in new tab</span> <!>',1),ve=x('<div class="flex h-full w-full flex-row gap-3 p-3"><iframe frameborder="0" class="flex-grow rounded"></iframe> <div class="flex h-full w-72 flex-col"><h1 class="text-4xl font-bold"> </h1> <p class="text-xl"> </p> <div class="flex-grow"></div> <div class="flex flex-row gap-3"><!> <!> <!> <!></div></div></div>');function Me(p,o){X(o,!0);const[d,$]=te(),l=()=>V(J,"$preferencesStore",d),v=()=>V(q,"$favoritesStore",d);function s(e){var r;if(l().open==="tab")r=window.open("","_blank");else if(l().open==="window")r=window.open("","_blank");else{se(J,L(l).open="tab",L(l)),s(e);return}if(!r)return;const t=r.document,n=t.createElement("style");n.textContent="body, html { margin: 0; padding: 0; height: 100%; }",t.head.appendChild(n);const h=t.createElement("iframe");h.src=e,h.style.cssText="width: 100%; height: 100%; border: none;",t.body.appendChild(h)}const a=ee(()=>re(oe.params.id));var S=ve(),N=_(S),F=c(N,2),P=_(F),Q=_(P,!0);g(P);var T=c(P,2),R=_(T,!0);g(T);var B=c(T,4),C=_(B);w(C,{variant:"outline",size:"icon",class:"flex-1",onclick:()=>{var e;(e=document.querySelector("iframe"))==null||e.requestFullscreen()},children:(e,r)=>{var t=de(),n=c(m(t),2);ne(n,{class:"h-6 w-6"}),f(e,t)},$$slots:{default:!0}});var E=c(C,2);w(E,{variant:"outline",size:"icon",class:"flex-1",onclick:()=>{var e;(e=i(a))!=null&&e.url&&s(i(a).url)},children:(e,r)=>{var t=ce(),n=c(m(t),2);le(n,{class:"h-6 w-6"}),f(e,t)},$$slots:{default:!0}});var I=c(E,2);w(I,{variant:"outline",size:"icon",class:"flex-1",onclick:()=>{navigator.share?navigator.share({text:window.location.href}).catch(()=>{navigator.clipboard.writeText(window.location.href),A.error("Failed to share link, copied to clipboard instead.")}):(navigator.clipboard.writeText(window.location.href),A.error("Failed to share link, copied to clipboard instead."))},children:(e,r)=>{var t=pe(),n=c(m(t),2);ie(n,{class:"h-6 w-6"}),f(e,t)},$$slots:{default:!0}});var U=c(I,2);w(U,{variant:"outline",size:"icon",class:"flex-1",onclick:()=>{var e;(e=i(a))!=null&&e.id&&(v().includes(i(a).id)?D(q,G(v().filter(r=>r!==i(a).id))):D(q,G([...v(),i(a).id])))},children:(e,r)=>{var t=fe(),n=c(m(t),2);{var h=u=>{K(u,{class:"h-6 w-6 text-red-400"})},W=u=>{K(u,{class:"h-6 w-6"})};ae(n,u=>{var H;(H=i(a))!=null&&H.id&&v().includes(i(a).id)?u(h):u(W,!1)})}f(e,t)},$$slots:{default:!0}}),g(B),g(F),g(S),Y(()=>{var e,r,t,n;j(N,"src",(e=i(a))==null?void 0:e.url),j(N,"title",(r=i(a))==null?void 0:r.name),O(Q,(t=i(a))==null?void 0:t.name),O(R,(n=i(a))==null?void 0:n.description)}),f(p,S),Z(),$()}export{Me as component};
