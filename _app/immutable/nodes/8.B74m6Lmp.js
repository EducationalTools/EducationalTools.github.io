import"../chunks/Bzak7iHL.js";import{p as ve,j as oe,z as ae,f as J,a as o,b as $e,i as r,l as S,s as x,c as N,d as se,k as F,n as q,r as E,g as l,e as c,t as _e}from"../chunks/d1nUEqUP.js";import{a as he,d as Ie,r as pe,p as ne,s as Re,c as Me}from"../chunks/BoGLRf8T.js";import{i as be}from"../chunks/DGIKQ0Uj.js";import{e as L}from"../chunks/uG0PJdg3.js";import{c as m}from"../chunks/Bpp8RQHS.js";import{c as De,g as He,a as Ae,b as Ke,r as je,T as Be,d as Le,e as le,f as fe,F as me,h as Ge,i as Ne,A as qe,j as T}from"../chunks/B8AIDftS.js";import{I as Ee}from"../chunks/jq2v7ZJ4.js";import{C as Je}from"../chunks/7QVb7KsE.js";import{L as Oe}from"../chunks/CotZ1Y0o.js";import{B as ie}from"../chunks/cDYnXas2.js";import{h as ye}from"../chunks/C-VHuNsD.js";import{A as Qe}from"../chunks/BGVdi9_g.js";import{s as xe}from"../chunks/NkYtgyu8.js";import{a as Ue}from"../chunks/DsZizbNA.js";import{g as We}from"../chunks/DD7QJCdi.js";var Xe=J("<!> <!>",1),Ye=J('<div class="grid max-h-screen w-full grid-cols-1 flex-col gap-3 rounded-md p-3"><div class="flex w-full flex-row items-center gap-3"><div class="flex h-full items-center justify-center rounded-md border border-dashed px-3 text-lg">History</div> <!> <div class="flex flex-row gap-2"><!> <!></div> <!></div> <!></div>');function Ze(t,a){ve(a,!0);const[v,i]=he(),$=(e,s,n,de)=>{const I=je(e.getValue(s),n);return de({itemRank:I}),I.passed};let _=oe(ae([])),d=oe(ae([])),V=oe(ae({id:!1}));const u=De({get data(){return a.data},columns:a.columns,getCoreRowModel:Ke(),getSortedRowModel:Ae(),getFilteredRowModel:He(),filterFns:{fuzzy:$},onSortingChange:e=>{typeof e=="function"?F(_,e(r(_)),!0):F(_,e,!0)},onColumnFiltersChange:e=>{typeof e=="function"?F(d,e(r(d)),!0):F(d,e,!0)},onColumnVisibilityChange:e=>{typeof e=="function"?F(V,e(r(V)),!0):F(V,e,!0)},state:{get sorting(){return r(_)},get columnFilters(){return r(d)},get columnVisibility(){return r(V)}}});var w=Ye(),z=N(w),j=x(N(z),2);{let e=S(()=>{var s;return((s=u.getColumn("name"))==null?void 0:s.getFilterValue())??""});Ee(j,{placeholder:"Search",get value(){return r(e)},onchange:s=>{var n;(n=u.getColumn("name"))==null||n.setFilterValue(s.currentTarget.value)},oninput:s=>{var n;(n=u.getColumn("name"))==null||n.setFilterValue(s.currentTarget.value)},class:"grow"})}var h=x(j,2),ce=N(h),we=()=>{var e;return(e=u.getColumn("id"))==null?void 0:e.getIsVisible()},Ce=e=>{var s;return(s=u.getColumn("id"))==null?void 0:s.toggleVisibility(!!e)};Je(ce,{get checked(){return we()},set checked(e){Ce(e)},id:"showid"});var Pe=x(ce,2);Oe(Pe,{for:"showid",class:"text-nowrap",children:(e,s)=>{q();var n=se("Show ID");o(e,n)},$$slots:{default:!0}}),E(h);var ke=x(h,2);ie(ke,{variant:"destructive",onclick:()=>Ie(ye,[]),children:(e,s)=>{q();var n=se("Clear");o(e,n)},$$slots:{default:!0}}),E(z);var Fe=x(z,2);m(Fe,()=>Ge,(e,s)=>{s(e,{children:(n,de)=>{var I=Xe(),ue=l(I);m(ue,()=>Be,(O,Q)=>{Q(O,{class:"bg-background sticky top-0",children:(U,Se)=>{var R=c(),W=l(R);L(W,17,()=>u.getHeaderGroups(),g=>g.id,(g,p)=>{var b=c(),M=l(b);m(M,()=>le,(D,H)=>{H(D,{children:(B,A)=>{var K=c(),C=l(K);L(C,17,()=>r(p).headers,y=>y.id,(y,f)=>{var P=c(),k=l(P);m(k,()=>Ne,(X,Y)=>{Y(X,{children:(Z,ge)=>{var ee=c(),te=l(ee);{var Ve=re=>{{let ze=S(()=>r(f).getContext());me(re,{get content(){return r(f).column.columnDef.header},get context(){return r(ze)}})}};be(te,re=>{r(f).isPlaceholder||re(Ve)})}o(Z,ee)},$$slots:{default:!0}})}),o(y,P)}),o(B,K)},$$slots:{default:!0}})}),o(g,b)}),o(U,R)},$$slots:{default:!0}})});var Te=x(ue,2);m(Te,()=>Le,(O,Q)=>{Q(O,{children:(U,Se)=>{var R=c(),W=l(R);L(W,17,()=>u.getRowModel().rows,g=>g.id,(g,p)=>{var b=c(),M=l(b);{let D=S(()=>r(p).getIsSelected()&&"selected");m(M,()=>le,(H,B)=>{B(H,{get"data-state"(){return r(D)},children:(A,K)=>{var C=c(),y=l(C);L(y,17,()=>r(p).getVisibleCells(),f=>f.id,(f,P)=>{var k=c(),X=l(k);m(X,()=>fe,(Y,Z)=>{Z(Y,{children:(ge,ee)=>{{let te=S(()=>r(P).getContext());me(ge,{get content(){return r(P).column.columnDef.cell},get context(){return r(te)}})}},$$slots:{default:!0}})}),o(f,k)}),o(A,C)},$$slots:{default:!0}})})}o(g,b)},g=>{var p=c(),b=l(p);m(b,()=>le,(M,D)=>{D(M,{children:(H,B)=>{var A=c(),K=l(A);m(K,()=>fe,(C,y)=>{y(C,{get colspan(){return a.columns.length},class:"h-24 text-center",children:(f,P)=>{q();var k=se("No results.");o(f,k)},$$slots:{default:!0}})}),o(H,A)},$$slots:{default:!0}})}),o(g,p)}),o(U,R)},$$slots:{default:!0}})}),o(n,I)},$$slots:{default:!0}})}),E(w),o(t,w),$e(),i()}function et(t,a){{let v=S(()=>"/g/"+a.id);ie(t,{variant:"ghost",size:"icon",class:"relative size-8 p-0",get href(){return r(v)},children:(i,$)=>{Qe(i,{})},$$slots:{default:!0}})}}var tt=J("<a> </a>");function rt(t,a){const v=pe(a,["$$slots","$$events","$$legacy","children"]);var i=tt();Ue(i,()=>({...v}));var $=N(i,!0);E(i),_e(()=>xe($,a.children)),o(t,i)}var ot=J(" <!>",1);function G(t,a){let v=ne(a,"content",3,""),i=ne(a,"variant",3,"ghost"),$=ne(a,"sort",3,!1),_=pe(a,["$$slots","$$events","$$legacy","content","variant","sort"]);ie(t,Re({get variant(){return i()},class:"w-full"},()=>_,{children:(d,V)=>{q();var u=ot(),w=l(u),z=x(w);{var j=h=>{qe(h,{class:"ml-2"})};be(z,h=>{$()&&h(j)})}_e(()=>xe(w,`${v()??""} `)),o(d,u)},$$slots:{default:!0}}))}const at=[{accessorKey:"id",header:({column:t})=>T(G,{content:"ID"})},{accessorKey:"name",header:({column:t})=>T(G,{onclick:t.getToggleSortingHandler(),content:"Name",sort:!0}),cell:({row:t})=>T(rt,{children:t.original.name,href:`/g/${t.original.id}`}),filterFn:"fuzzy"},{accessorKey:"category",header:({column:t})=>T(G,{onclick:t.getToggleSortingHandler(),content:"Category",sort:!0})},{accessorKey:"description",header:({column:t})=>T(G,{content:"Description"})},{id:"actions",cell:({row:t})=>T(et,{id:t.original.id})}];function yt(t,a){ve(a,!0);const v=()=>Me(ye,"$historyStore",i),[i,$]=he();let _=S(()=>v().map(d=>We(d)).filter(d=>d!==void 0));Ze(t,{get data(){return r(_)},get columns(){return at}}),$e(),$()}export{yt as component};
