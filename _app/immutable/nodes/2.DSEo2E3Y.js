var Ce=Object.defineProperty;var he=t=>{throw TypeError(t)};var xe=(t,e,r)=>e in t?Ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var A=(t,e,r)=>xe(t,typeof e!="symbol"?e+"":e,r),re=(t,e,r)=>e.has(t)||he("Cannot "+r);var i=(t,e,r)=>(re(t,e,"read from private field"),r?r.call(t):e.get(t)),k=(t,e,r)=>e.has(t)?he("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),B=(t,e,r,s)=>(re(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),se=(t,e,r)=>(re(t,e,"access private method"),r);import{f as H,a as w,t as J,s as Pe,g as Te,d as Ee,c as Ie,i as Ae,b as De}from"../chunks/disclose-version.BBNJlpjr.js";import{i as be}from"../chunks/legacy.CTdUMCZ2.js";import{q as C,m as p,p as M,f as P,d as U,t as ee,e as me,r as ke,s as ie,g as we,n as fe}from"../chunks/runtime.0oEfrw2g.js";import{w as Ve}from"../chunks/index.COquRvyj.js";import{i as ce,p as g,r as de,c as ge,s as ze}from"../chunks/props.DwmyKqMU.js";import{u as _e,E as Be,S as Oe,c as Le,g as He,a as Ne,b as We,d as je,e as Je,f as Me,h as Ue,s as Fe,i as Ge,r as Ke,j as le,k as pe,n as Qe,l as R,m as K,o as Se,p as ve,B as Xe}from"../chunks/button.BAq48_Ya.js";const Ye="data-switch-root",Ze="data-switch-thumb";var O,N,W,oe,Q,X;class $e{constructor(e){k(this,W);k(this,O);k(this,N);A(this,"checked");A(this,"disabled");A(this,"required");A(this,"name");A(this,"value");k(this,Q,C(()=>({"data-disabled":He(this.disabled.current),"data-state":Ne(this.checked.current),"data-required":We(this.required.current)})));k(this,X,C(()=>({...this.sharedProps,id:i(this,O).current,role:"switch",disabled:je(this.disabled.current),"aria-checked":Je(this.checked.current),"aria-required":Me(this.required.current),[Ye]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.checked=e.checked,this.disabled=e.disabled,this.required=e.required,this.name=e.name,this.value=e.value,B(this,O,e.id),B(this,N,e.ref),_e({id:i(this,O),ref:i(this,N)}),this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this)}onkeydown(e){!(e.key===Be||e.key===Oe)||this.disabled.current||(e.preventDefault(),se(this,W,oe).call(this))}onclick(e){this.disabled.current||se(this,W,oe).call(this)}get sharedProps(){return p(i(this,Q))}get props(){return p(i(this,X))}}O=new WeakMap,N=new WeakMap,W=new WeakSet,oe=function(){this.checked.current=!this.checked.current},Q=new WeakMap,X=new WeakMap;var S,Y,Z;class et{constructor(e){k(this,S);k(this,Y,C(()=>i(this,S).name.current!==void 0));k(this,Z,C(()=>({type:"checkbox",name:i(this,S).name.current,value:i(this,S).value.current,checked:i(this,S).checked.current,disabled:i(this,S).disabled.current,required:i(this,S).required.current,"aria-hidden":Ue(!0),style:Fe(Ge)})));B(this,S,e)}get shouldRender(){return p(i(this,Y))}get props(){return p(i(this,Z))}}S=new WeakMap,Y=new WeakMap,Z=new WeakMap;var L,j,$;class tt{constructor(e,r){k(this,L);k(this,j);A(this,"root");k(this,$,C(()=>({...this.root.sharedProps,id:i(this,L).current,[Ze]:""})));this.root=r,B(this,L,e.id),B(this,j,e.ref),_e({id:i(this,L),ref:i(this,j)})}get props(){return p(i(this,$))}}L=new WeakMap,j=new WeakMap,$=new WeakMap;const[rt,ye]=Le("Switch.Root");function st(t){return rt(new $e(t))}function nt(){return new et(ye())}function at(t){return new tt(t,ye())}var it=J("<input>");function ot(t,e){M(e,!1);const r=nt();be();var s=H(),v=P(s);{var c=o=>{var d=it();Ke(d);let l;ee(()=>l=le(d,l,{...r.props})),w(o,d)};ce(v,o=>{r.shouldRender&&o(c)})}w(t,s),U()}var ct=J("<button><!></button>"),dt=J("<!> <!>",1);function lt(t,e){M(e,!0);let r=g(e,"ref",15,null),s=g(e,"id",19,pe),v=g(e,"disabled",3,!1),c=g(e,"required",3,!1),o=g(e,"checked",15,!1),d=g(e,"value",3,"on"),l=g(e,"name",3,void 0),y=g(e,"type",3,"button"),u=g(e,"onCheckedChange",3,Qe),h=g(e,"controlledChecked",3,!1),n=de(e,["$$slots","$$events","$$legacy","child","children","ref","id","disabled","required","checked","value","name","type","onCheckedChange","controlledChecked"]);const b=st({checked:R.with(()=>o(),f=>{var m;h()?u()(f):(o(f),(m=u())==null||m(f))}),disabled:R.with(()=>v()??!1),required:R.with(()=>c()),value:R.with(()=>d()),name:R.with(()=>l()),id:R.with(()=>s()),ref:R.with(()=>r(),f=>r(f))}),x=C(()=>Se(n,b.props,{type:y()}));var T=dt(),E=P(T);{var te=f=>{var m=H(),a=P(m);K(a,()=>e.child,()=>({props:p(x),checked:b.checked.current})),w(f,m)},F=f=>{var m=ct();let a;var _=me(m);K(_,()=>e.children??we,()=>({checked:b.checked.current})),ke(m),ee(()=>a=le(m,a,{...p(x)})),w(f,m)};ce(E,f=>{e.child?f(te):f(F,!1)})}var D=ie(E,2);ot(D,{}),w(t,T),U()}var ut=J("<span><!></span>");function ht(t,e){M(e,!0);let r=g(e,"ref",15,null),s=g(e,"id",19,pe),v=de(e,["$$slots","$$events","$$legacy","child","children","ref","id"]);const c=at({id:R.with(()=>s()),ref:R.with(()=>r(),h=>r(h))}),o=C(()=>Se(v,c.props));var d=H(),l=P(d);{var y=h=>{var n=H(),b=P(n);K(b,()=>e.child,()=>({props:p(o),checked:c.root.checked.current})),w(h,n)},u=h=>{var n=ut();let b;var x=me(n);K(x,()=>e.children??we,()=>({checked:c.root.checked.current})),ke(n),ee(()=>b=le(n,b,{...p(o)})),w(h,n)};ce(l,h=>{e.child?h(y):h(u,!1)})}w(t,d),U()}var ne={local:{},session:{}};function ft(t){return t==="local"?localStorage:sessionStorage}function gt(t,e,r){var s,v,c,o,d,l,y,u;const h=(s=void 0)!=null?s:JSON,n=(v=void 0)!=null?v:"local",b=(c=void 0)!=null?c:!0,x=(d=(o=void 0)!=null?o:void 0)!=null?d:a=>console.error(`Error when writing value from persisted store "${t}" to ${n}`,a),T=(l=void 0)!=null?l:(a,_)=>console.error(`Error when parsing ${a?'"'+a+'"':"value"} from persisted store "${t}"`,_),E=(y=void 0)!=null?y:a=>a,te=(u=void 0)!=null?u:a=>a,F=typeof window<"u"&&typeof document<"u",D=F?ft(n):null;function f(a,_){const V=te(_);try{D==null||D.setItem(a,h.stringify(V))}catch(G){x(G)}}function m(){function a(q){try{return h.parse(q)}catch(z){T(q,z)}}const _=D==null?void 0:D.getItem(t);if(_==null)return e;const V=a(_);return V==null?e:E(V)}if(!ne[n][t]){const a=m(),_=Ve(a,q=>{if(F&&n=="local"&&b){const z=I=>{if(I.key===t&&I.newValue){let ue;try{ue=h.parse(I.newValue)}catch(Re){T(I.newValue,Re);return}const qe=E(ue);q(qe)}};return window.addEventListener("storage",z),()=>window.removeEventListener("storage",z)}}),{subscribe:V,set:G}=_;ne[n][t]={set(q){G(q),f(t,q)},update(q){return _.update(z=>{const I=q(z);return f(t,I),I})},reset(){this.set(e)},subscribe:V}}return ne[n][t]}const ae=gt("teststore",!0);function vt(t,e){M(e,!0);let r=g(e,"ref",15,null),s=g(e,"checked",15,!1),v=de(e,["$$slots","$$events","$$legacy","ref","class","checked"]);var c=H(),o=P(c),d=C(()=>ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e.class));ge(o,()=>lt,(l,y)=>{y(l,ze({get class(){return p(d)}},()=>v,{get ref(){return r()},set ref(u){r(u)},get checked(){return s()},set checked(u){s(u)},children:(u,h)=>{var n=H(),b=P(n),x=C(()=>ve("pointer-events-none block size-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"));ge(b,()=>ht,(T,E)=>{E(T,{get class(){return p(x)}})}),w(u,n)},$$slots:{default:!0}}))}),w(t,c),U()}var bt=J(" <!> <!>",1);function qt(t,e){M(e,!1);const r=Pe(),s=()=>Ie(ae,"$testStore",r);be(),fe();var v=bt(),c=P(v),o=ie(c);vt(o,{get checked(){return Ae(),s()},set checked(l){Te(ae,l)},$$legacy:!0});var d=ie(o,2);Xe(d,{onclick:()=>ae.set(!s()),children:(l,y)=>{fe();var u=Ee("Toggle");w(l,u)},$$slots:{default:!0}}),ee(()=>De(c,`${s()??""} `)),w(t,v),U()}export{qt as component};
