var _=Object.defineProperty;var w=(n,t,e)=>t in n?_(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var m=(n,t,e)=>w(n,typeof t!="symbol"?t+"":t,e);import"./CWj6FrbW.js";import{i as c,e as l,j as p,a as f,p as x,S as T,c as B,g as k,a6 as y}from"./S3KHkTgG.js";import{a as v,m as O,u as S}from"./Hf0qamOz.js";import{i as L}from"./Djabpwrs.js";import{C as R,b as h,w as j}from"./D_-XPY6-.js";import{k as q,i as A}from"./DCl44gka.js";function I(n,t){var e=c(),i=l(e);q(i,()=>t.children,r=>{var o=c(),u=l(o);v(u,()=>t.children??p),f(r,o)}),f(n,e)}const V=new R("BitsConfig");function z(){const n=new D(null,{});return V.getOr(n).opts}class D{constructor(t,e){m(this,"opts");const i=E(t,e);this.opts={defaultPortalTo:i(r=>r.defaultPortalTo),defaultLocale:i(r=>r.defaultLocale)}}}function E(n,t){return e=>h.with(()=>{var o,u;const r=(o=e(t))==null?void 0:o.current;if(r!==void 0)return r;if(n!==null)return(u=e(n.opts))==null?void 0:u.current})}function F(n,t){return e=>{const i=z();return h.with(()=>{const r=e();if(r!==void 0)return r;const o=n(i).current;return o!==void 0?o:t})}}const G=F(n=>n.defaultPortalTo,"body");function W(n,t){x(t,!0);const e=G(()=>t.to),i=T();let r=y(o);function o(){if(!A||t.disabled)return null;let a=null;return typeof e.current=="string"?a=document.querySelector(e.current):a=e.current,a}let u;function d(){u&&(S(u),u=null)}j([()=>k(r),()=>t.disabled],([a,s])=>{if(!a||s){d();return}return u=O(I,{target:a,props:{children:t.children},context:i}),()=>{d()}});var g=c(),C=l(g);{var P=a=>{var s=c(),b=l(s);v(b,()=>t.children??p),f(a,s)};L(C,a=>{t.disabled&&a(P)})}f(n,g),B()}export{W as P};
