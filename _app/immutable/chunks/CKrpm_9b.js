import"./Bzak7iHL.js";import{a as ae,o as T}from"./91ucGuMU.js";import{al as E,an as B,p as y,e as v,g as m,a as f,c as k,av as le,B as oe,i as p,j as L,k as O,f as C,s as ie,h as D,d as J,r as W,b as Y,t as V}from"./zOeN_PB6.js";import{a as b,m as I,u as U,k as K}from"./BpwvG457.js";import{r as M,b as se}from"./KUXNiUzL.js";import{i as P}from"./kzG8n2m5.js";import{a as H,s as X,c as z}from"./oSAEl5ga.js";const G="$$_clerk",S=()=>{const e=E(G);if(!e)throw new Error("No Clerk data was found in Svelte context. Did you forget to wrap your component with ClerkProvider?");return e},Ge=e=>{B(G,e)};function ce(e,r){y(r,!0);const n=S();var t=v(),l=m(t);{var a=s=>{var c=v(),u=m(c);b(u,()=>r.children,()=>n.clerk),f(s,c)};P(l,s=>{n.isLoaded&&s(a)})}f(e,t),k()}var ue=C("<div></div>"),de=C("<!> <!>",1);function fe(e,r){y(r,!0);const n=M(r,["$$slots","$$events","$$legacy","children"]);let t=L(null),l=L(!1),a=le(n);const s=S();B("$$_userButton",{addCustomMenuItem(o,d){a.customMenuItems=[...a.customMenuItems||[],d]},addCustomPage(o){var d;a.userProfileProps={...a.userProfileProps,customPages:[...((d=a.userProfileProps)==null?void 0:d.customPages)||[],o]}}}),oe(()=>{p(t)&&s.clerk&&(p(l)?s.clerk.__unstable__updateProps({node:p(t),props:a}):(s.clerk.mountUserButton(p(t),n),O(l,!0)))}),ae(()=>{var o;p(l)&&((o=s.clerk)==null||o.unmountUserButton(p(t)))});var c=de(),u=m(c);ce(u,{children:(o,d)=>{var _=ue();se(_,w=>O(t,w),()=>p(t)),f(o,_)},$$slots:{default:!0}});var i=ie(u,2);b(i,()=>r.children??D),f(e,c),k()}function x(e,r){var n=v(),t=m(n);b(t,()=>r.children),f(e,n)}function he(e,r){y(r,!0);const{addCustomMenuItem:n}=E("$$_userButtonMenuItems"),t=M(r,["$$slots","$$events","$$legacy"]);T(()=>{if(r.label==="manageAccount"||r.label==="signOut"){n("action",{label:r.label});return}const{label:l,onclick:a,open:s,labelIcon:c}=t;let u;n("action",{label:l,mountIcon(i){u=I(x,{target:i,props:{children:c}})},unmountIcon(){u&&U(u)},...a?{onClick:a}:{open:s.startsWith("/")?s:`/${s}`}})}),k()}function me(e,r){y(r,!0);const{addCustomMenuItem:n}=E("$$_userButtonMenuItems");T(()=>{let t;n("link",{label:r.label,mountIcon(l){t=I(x,{target:l,props:{children:r.labelIcon}})},unmountIcon(){t&&U(t)},href:r.href})}),k()}function ve(e,r){y(r,!0);const n=E("$$_userButton");B("$$_userButtonMenuItems",n);var t=v(),l=m(t);b(l,()=>r.children),f(e,t),k()}function ge(e,r){y(r,!0);const{addCustomPage:n}=E("$$_userButton");T(()=>{let t,l;n({label:r.label,url:r.url,mountIcon(a){t=I(x,{target:a,props:{children:r.labelIcon}})},unmountIcon(){t&&U(t)},mount(a){l=I(x,{target:a,props:{children:r.children}})},unmount(){l&&U(l)}})}),k()}Object.assign(fe,{MenuItems:ve,Action:he,Link:me,UserProfilePage:ge});var be=C('<button type="button"><!></button>');function qe(e,r){y(r,!0);const n=M(r,["$$slots","$$events","$$legacy","mode","children","style","class","asChild"]),t=S();function l(){if(t.clerk){if(r.mode==="modal"){t.clerk.openSignIn(n);return}t.clerk.redirectToSignIn({...n,signInFallbackRedirectUrl:r.fallbackRedirectUrl,signInForceRedirectUrl:r.forceRedirectUrl})}}var a=v(),s=m(a);{var c=i=>{var o=v(),d=m(o);b(d,()=>r.children??D,()=>({signIn:l})),f(i,o)},u=i=>{var o=be();o.__click=l;var d=J(o);{var _=h=>{var g=v(),R=m(g);b(R,()=>r.children,()=>({signIn:l})),f(h,g)},w=h=>{var g=V("Sign in");f(h,g)};P(d,h=>{r.children?h(_):h(w,!1)})}W(o),Y(()=>{H(o,r.style),X(o,1,z(r.class))}),f(i,o)};P(s,i=>{r.asChild?i(c):i(u,!1)})}f(e,a),k()}K(["click"]);var ye=C('<button type="button"><!></button>');function Ze(e,r){y(r,!0);const n=M(r,["$$slots","$$events","$$legacy","mode","children","style","class","asChild"]),t=S();function l(){if(t.clerk){if(r.mode==="modal"){t.clerk.openSignUp(n);return}t.clerk.redirectToSignUp({...n,signUpFallbackRedirectUrl:r.fallbackRedirectUrl,signUpForceRedirectUrl:r.forceRedirectUrl})}}var a=v(),s=m(a);{var c=i=>{var o=v(),d=m(o);b(d,()=>r.children??D,()=>({signUp:l})),f(i,o)},u=i=>{var o=ye();o.__click=l;var d=J(o);{var _=h=>{var g=v(),R=m(g);b(R,()=>r.children,()=>({signUp:l})),f(h,g)},w=h=>{var g=V("Sign up");f(h,g)};P(d,h=>{r.children?h(_):h(w,!1)})}W(o),Y(()=>{H(o,r.style),X(o,1,z(r.class))}),f(i,o)};P(s,i=>{r.asChild?i(c):i(u,!1)})}f(e,a),k()}K(["click"]);K(["click"]);var ke=(e,r="5.87.0")=>{if(e)return e;const n=pe(r);return n?n==="snapshot"?"5.87.0":n:_e(r)},pe=e=>{var r;return(r=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:r[1]},_e=e=>e.trim().replace(/^v/,"").split(".")[0];function we(e){return e?Pe(e)||q(e):!0}function Pe(e){return/^http(s)?:\/\//.test(e||"")}function q(e){return e.startsWith("/")}function Ee(e){return e?q(e)?new URL(e,window.location.origin).toString():e:""}var Ie=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"];function Ue(e){if(!e)return"";let r;if(e.match(/^(clerk\.)+\w*$/))r=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;r=/^(clerk\.)*/gi}return`clerk.${e.replace(r,"")}`}var xe={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,r)=>r<5,retryImmediately:!1,jitter:!0},Ce=100,Z=async e=>new Promise(r=>setTimeout(r,e)),Q=(e,r)=>r?e*(1+Math.random()):e,Me=e=>{let r=0;const n=()=>{const t=e.initialDelay,l=e.factor;let a=t*Math.pow(l,r);return a=Q(a,e.jitter),Math.min(e.maxDelayBetweenRetries||a,a)};return async()=>{await Z(n()),r++}},Se=async(e,r={})=>{let n=0;const{shouldRetry:t,initialDelay:l,maxDelayBetweenRetries:a,factor:s,retryImmediately:c,jitter:u}={...xe,...r},i=Me({initialDelay:l,maxDelayBetweenRetries:a,factor:s,jitter:u});for(;;)try{return await e()}catch(o){if(n++,!t(o,n))throw o;c&&n===1?await Z(Q(Ce,u)):await i()}},Re="loadScript cannot be called when document does not exist",Ae="loadScript cannot be called without a src";async function Te(e="",r){const{async:n,defer:t,beforeLoad:l,crossOrigin:a,nonce:s}=r||{};return Se(()=>new Promise((u,i)=>{e||i(new Error(Ae)),(!document||!document.body)&&i(Re);const o=document.createElement("script");a&&o.setAttribute("crossorigin",a),o.async=n||!1,o.defer=t||!1,o.addEventListener("load",()=>{o.remove(),u(o)}),o.addEventListener("error",()=>{o.remove(),i()}),o.src=e,o.nonce=s,l==null||l(o),document.body.appendChild(o)}),{shouldRetry:(u,i)=>i<=5})}var Be=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function De({packageName:e,customMessages:r}){let n=e;function t(a,s){if(!s)return`${n}: ${a}`;let c=a;const u=a.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const i of u){const o=(s[i[1]]||"").toString();c=c.replace(`{{${i[1]}}}`,o)}return`${n}: ${c}`}const l={...Be,...r};return{setPackageName({packageName:a}){return typeof a=="string"&&(n=a),this},setMessages({customMessages:a}){return Object.assign(l,a||{}),this},throwInvalidPublishableKeyError(a){throw new Error(t(l.InvalidPublishableKeyErrorMessage,a))},throwInvalidProxyUrl(a){throw new Error(t(l.InvalidProxyUrlErrorMessage,a))},throwMissingPublishableKeyError(){throw new Error(t(l.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(t(l.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(a){throw new Error(t(l.MissingClerkProvider,a))},throw(a){throw new Error(t(a))}}}var $=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,ee="pk_live_",Ke="pk_test_";function re(e){if(!e.endsWith("$"))return!1;const r=e.slice(0,-1);return r.includes("$")?!1:r.includes(".")}function F(e,r={}){if(e=e||"",!e||!j(e)){if(r.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(r.fatal&&!j(e))throw new Error("Publishable key not valid.");return null}const n=e.startsWith(ee)?"production":"development";let t;try{t=$(e.split("_")[2])}catch{if(r.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!re(t)){if(r.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let l=t.slice(0,-1);return r.proxyUrl?l=r.proxyUrl:n!=="development"&&r.domain&&r.isSatellite&&(l=`clerk.${r.domain}`),{instanceType:n,frontendApi:l}}function j(e=""){try{if(!(e.startsWith(ee)||e.startsWith(Ke)))return!1;const n=e.split("_");if(n.length!==3)return!1;const t=n[2];if(!t)return!1;const l=$(t);return re(l)}catch{return!1}}function Le(){const e=new Map;return{isDevOrStagingUrl:r=>{if(!r)return!1;const n=typeof r=="string"?r:r.hostname;let t=e.get(n);return t===void 0&&(t=Ie.some(l=>n.endsWith(l)),e.set(n,t)),t}}}var te="Clerk: Failed to load Clerk",{isDevOrStagingUrl:Oe}=Le(),ne=De({packageName:"@clerk/shared"});function Qe(e){ne.setPackageName({packageName:e})}function A(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function N(e){return new Promise((r,n)=>{let t=!1;const l=(i,o)=>{clearTimeout(i),clearInterval(o)},a=()=>{t||A()&&(t=!0,l(c,u),r(null))},c=setTimeout(()=>{t||(t=!0,l(c,u),A()?r(null):n(new Error(te)))},e);a();const u=setInterval(()=>{if(t){clearInterval(u);return}a()},100)})}var $e=async e=>{const r=(e==null?void 0:e.scriptLoadTimeout)??15e3;if(A())return null;if(document.querySelector("script[data-clerk-js-script]"))return N(r);if(!(e!=null&&e.publishableKey))return ne.throwMissingPublishableKeyError(),null;const t=N(r);return Te(Fe(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:Ne(e)}).catch(()=>{throw new Error(te)}),t},Fe=e=>{var o,d;const{clerkJSUrl:r,clerkJSVariant:n,clerkJSVersion:t,proxyUrl:l,domain:a,publishableKey:s}=e;if(r)return r;let c="";l&&we(l)?c=Ee(l).replace(/http(s)?:\/\//,""):a&&!Oe(((o=F(s))==null?void 0:o.frontendApi)||"")?c=Ue(a):c=((d=F(s))==null?void 0:d.frontendApi)||"";const u=n?`${n.replace(/\.+$/,"")}.`:"",i=ke(t);return`https://${c}/npm/@clerk/clerk-js@${i}/dist/clerk.${u}browser.js`},je=e=>{const r={};return e.publishableKey&&(r["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(r["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(r["data-clerk-domain"]=e.domain),e.nonce&&(r.nonce=e.nonce),r},Ne=e=>r=>{const n=je(e);for(const t in n)r.setAttribute(t,n[t])};export{ce as C,qe as S,Ge as a,Ze as b,$e as l,Qe as s,S as u};
