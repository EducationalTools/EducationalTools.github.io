import{w as H}from"./Hf0qamOz.js";var f={local:{},session:{}};function J(o){return o==="local"?localStorage:sessionStorage}function p(o,u,M){var g,m,w,v,h,b,S,_;const d=(g=void 0)!=null?g:JSON,s=(m=void 0)!=null?m:"local",x=(w=void 0)!=null?w:!0,I=(h=(v=void 0)!=null?v:void 0)!=null?h:e=>console.error(`Error when writing value from persisted store "${o}" to ${s}`,e),y=(b=void 0)!=null?b:(e,t)=>console.error(`Error when parsing ${e?'"'+e+'"':"value"} from persisted store "${o}"`,t),E=(S=void 0)!=null?S:e=>e,L=(_=void 0)!=null?_:e=>e,V=typeof window<"u"&&typeof document<"u",i=V?J(s):null;function z(e,t){const a=L(t);try{i==null||i.setItem(e,d.stringify(a))}catch(c){I(c)}}function T(){function e(r){try{return d.parse(r)}catch(l){y(r,l)}}const t=i==null?void 0:i.getItem(o);if(t==null)return u;const a=e(t);return a==null?u:E(a)}if(!f[s][o]){const e=T(),t=H(e,r=>{if(V&&s=="local"&&x){const l=n=>{if(n.key===o&&n.newValue){let $;try{$=d.parse(n.newValue)}catch(F){y(n.newValue,F);return}const W=E($);r(W)}};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)}}),{subscribe:a,set:c}=t;f[s][o]={set(r){c(r),z(o,r)},update(r){return t.update(l=>{const n=r(l);return z(o,n),n})},reset(){this.set(u)},subscribe:a}}return f[s][o]}const O=p("preferences",{experimentalFeatures:!1,open:"tab",theme:"shadcn-zinc",panic:{enabled:!1,key:"`",url:"https://classroom.google.com",disableExperimentalMode:!0},cloak:{mode:"off",name:"Home",icon:"https://ssl.gstatic.com/classroom/favicon.png"},analytics:!0,history:!0}),P=p("favorites",[]),R=p("history",[]);export{p as a,P as f,R as h,O as p};
