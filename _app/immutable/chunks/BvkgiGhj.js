var $e=Object.defineProperty;var ye=n=>{throw TypeError(n)};var tn=(n,t,e)=>t in n?$e(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var d=(n,t,e)=>tn(n,typeof t!="symbol"?t+"":t,e),te=(n,t,e)=>t.has(n)||ye("Cannot "+e);var i=(n,t,e)=>(te(n,t,"read from private field"),e?e.call(n):t.get(n)),u=(n,t,e)=>t.has(n)?ye("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),f=(n,t,e,r)=>(te(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e),v=(n,t,e)=>(te(n,t,"access private method"),e);import"./Bzak7iHL.js";import{I as we,J as en,bt as nn,bu as rn,bg as sn,Y as on,X as an,a4 as un,a8 as cn,a5 as ln,N as fn,aB as hn,ae as dn,u as he,ax as mn,l as de,i as N,k as I,j as ht,z as bn,p as Y,e as O,g as D,a as F,b as Z,h as J,as as vn,bv as pn}from"./d1nUEqUP.js";import{s as Q}from"./BTq2v8-X.js";import{i as De}from"./DGIKQ0Uj.js";import{o as T}from"./DFw3g0me.js";import{J as $t,b,w as C,y as Fe,F as ft,C as gn,K as yn,G as wn,L as Sn,M as Tn,i as Se,N as Te}from"./FP6AR0ek.js";import{m as En,u as An}from"./NkYtgyu8.js";import{p as y}from"./CGq0iL3B.js";import{n as E,S as Cn}from"./B9v0oq99.js";function Nn(n,t,e){we&&en();var r=n,s=hn,a,o,c=null,l=nn()?rn:sn;function h(){a&&dn(a),c!==null&&(c.lastChild.remove(),r.before(c),c=null),a=o}on(()=>{if(l(s,s=t())){var A=r,m=ln();m&&(c=document.createDocumentFragment(),c.append(A=an())),o=un(()=>e(A)),m?cn.add_callback(h):h()}}),we&&(r=fn)}function It(n){he(()=>()=>{n()})}function In(n,t){return setTimeout(t,n)}function me(n){mn().then(n)}const On=1,Dn=9,Fn=11;function ne(n){return $t(n)&&n.nodeType===On&&typeof n.nodeName=="string"}function Pe(n){return $t(n)&&n.nodeType===Dn}function Pn(n){var t;return $t(n)&&((t=n.constructor)==null?void 0:t.name)==="VisualViewport"}function xn(n){return $t(n)&&n.nodeType!==void 0}function xe(n){return xn(n)&&n.nodeType===Fn&&"host"in n}function kn(n,t){var r;if(!n||!t||!ne(n)||!ne(t))return!1;const e=(r=t.getRootNode)==null?void 0:r.call(t);if(n===t||n.contains(t))return!0;if(e&&xe(e)){let s=t;for(;s;){if(n===s)return!0;s=s.parentNode||s.host}}return!1}function Mn(n){return Pe(n)?n:Pn(n)?n.document:(n==null?void 0:n.ownerDocument)??document}function Ln(n){var t;return xe(n)?Ln(n.host):Pe(n)?n.defaultView??window:ne(n)?((t=n.ownerDocument)==null?void 0:t.defaultView)??window:window}function Rn(n){let t=n.activeElement;for(;t!=null&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}var dt;class ke{constructor(t){d(this,"element");u(this,dt,de(()=>this.element.current?this.element.current.getRootNode()??document:document));d(this,"getDocument",()=>Mn(this.root));d(this,"getWindow",()=>this.getDocument().defaultView??window);d(this,"getActiveElement",()=>Rn(this.root));d(this,"isActiveElement",t=>t===this.getActiveElement());d(this,"querySelector",t=>this.root?this.root.querySelector(t):null);d(this,"querySelectorAll",t=>this.root?this.root.querySelectorAll(t):[]);d(this,"setTimeout",(t,e)=>this.getWindow().setTimeout(t,e));d(this,"clearTimeout",t=>this.getWindow().clearTimeout(t));typeof t=="function"?this.element=b(t):this.element=t}get root(){return N(i(this,dt))}set root(t){I(i(this,dt),t)}getElementById(t){return this.root.getElementById(t)}}dt=new WeakMap;var $;class _n{constructor(t,e){u(this,$,ht(void 0));e!==void 0&&I(i(this,$),e,!0),C(()=>t(),(r,s)=>{I(i(this,$),s,!0)})}get current(){return N(i(this,$))}}$=new WeakMap;var mt,Bt,Me;class Bn{constructor(t,e){u(this,Bt);d(this,"state");u(this,mt);this.state=Fe(t),f(this,mt,e),this.dispatch=this.dispatch.bind(this)}dispatch(t){this.state.current=v(this,Bt,Me).call(this,t)}}mt=new WeakMap,Bt=new WeakSet,Me=function(t){return i(this,mt)[this.state.current][t]??this.state.current};const Un={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}};var bt,vt,pt;class Vn{constructor(t){d(this,"opts");u(this,bt,ht("none"));u(this,vt,ht(bn({})));d(this,"initialStatus");d(this,"previousPresent");d(this,"machine");d(this,"present");u(this,pt,de(()=>["mounted","unmountSuspended"].includes(this.machine.state.current)));this.opts=t,this.present=this.opts.open,this.initialStatus=t.open.current?"mounted":"unmounted",this.previousPresent=new _n(()=>this.present.current),this.machine=new Bn(this.initialStatus,Un),this.handleAnimationEnd=this.handleAnimationEnd.bind(this),this.handleAnimationStart=this.handleAnimationStart.bind(this),Wn(this),Kn(this),qn(this)}get prevAnimationNameState(){return N(i(this,bt))}set prevAnimationNameState(t){I(i(this,bt),t,!0)}get styles(){return N(i(this,vt))}set styles(t){I(i(this,vt),t,!0)}handleAnimationEnd(t){if(!this.opts.ref.current)return;const e=Mt(this.opts.ref.current),r=e.includes(t.animationName)||e==="none";t.target===this.opts.ref.current&&r&&this.machine.dispatch("ANIMATION_END")}handleAnimationStart(t){this.opts.ref.current&&t.target===this.opts.ref.current&&(this.prevAnimationNameState=Mt(this.opts.ref.current))}get isPresent(){return N(i(this,pt))}set isPresent(t){I(i(this,pt),t)}}bt=new WeakMap,vt=new WeakMap,pt=new WeakMap;function Wn(n){C(()=>n.present.current,()=>{if(!n.opts.ref.current||!(n.present.current!==n.previousPresent.current))return;const e=n.prevAnimationNameState,r=Mt(n.opts.ref.current);if(n.present.current)n.machine.dispatch("MOUNT");else if(r==="none"||n.styles.display==="none")n.machine.dispatch("UNMOUNT");else{const s=e!==r;n.previousPresent.current&&s?n.machine.dispatch("ANIMATION_OUT"):n.machine.dispatch("UNMOUNT")}})}function Kn(n){C(()=>n.machine.state.current,()=>{if(!n.opts.ref.current)return;const t=Mt(n.opts.ref.current);n.prevAnimationNameState=n.machine.state.current==="mounted"?t:"none"})}function qn(n){C(()=>n.opts.ref.current,()=>{if(n.opts.ref.current)return n.styles=getComputedStyle(n.opts.ref.current),ft(T(n.opts.ref.current,"animationstart",n.handleAnimationStart),T(n.opts.ref.current,"animationcancel",n.handleAnimationEnd),T(n.opts.ref.current,"animationend",n.handleAnimationEnd))})}function Mt(n){return n&&getComputedStyle(n).animationName||"none"}function _r(n,t){Y(t,!0);const e=new Vn({open:b(()=>t.open),ref:t.ref});var r=O(),s=D(r);{var a=o=>{var c=O(),l=D(c);Q(l,()=>t.presence??J,()=>({present:e.isPresent})),F(o,c)};De(s,o=>{(t.forceMount||t.open||e.isPresent)&&o(a)})}F(n,r),Z()}var tt,K,L,M,re,Pt;class jn{constructor(t){u(this,M);u(this,tt);u(this,K);u(this,L,!1);f(this,tt,t),It(()=>v(this,M,re).call(this))}run(t){if(i(this,L))return;v(this,M,re).call(this),f(this,L,!0);const e=i(this,tt).ref.current;if(!e){f(this,L,!1);return}if(typeof e.getAnimations!="function"){v(this,M,Pt).call(this,t);return}f(this,K,window.requestAnimationFrame(()=>{const r=e.getAnimations();if(r.length===0){v(this,M,Pt).call(this,t);return}Promise.allSettled(r.map(s=>s.finished)).then(()=>{v(this,M,Pt).call(this,t)})}))}}tt=new WeakMap,K=new WeakMap,L=new WeakMap,M=new WeakSet,re=function(){i(this,K)&&(window.cancelAnimationFrame(i(this,K)),f(this,K,void 0)),f(this,L,!1)},Pt=function(t){const e=()=>{t(),f(this,L,!1)};i(this,tt).afterTick?me(e):e()};var P,gt,yt;class Br{constructor(t){u(this,P);u(this,gt);u(this,yt);f(this,P,t),f(this,gt,t.enabled??!0),f(this,yt,new jn({ref:i(this,P).ref,afterTick:i(this,P).open})),C([()=>i(this,P).open.current],([e])=>{i(this,gt)&&i(this,yt).run(()=>{e===i(this,P).open.current&&i(this,P).onComplete()})})}}P=new WeakMap,gt=new WeakMap,yt=new WeakMap;function zn(n,t){var e=O(),r=D(e);Nn(r,()=>t.children,s=>{var a=O(),o=D(a);Q(o,()=>t.children??J),F(s,a)}),F(n,e)}const Gn=new gn("BitsConfig");function Hn(){const n=new Xn(null,{});return Gn.getOr(n).opts}class Xn{constructor(t,e){d(this,"opts");const r=Yn(t,e);this.opts={defaultPortalTo:r(s=>s.defaultPortalTo),defaultLocale:r(s=>s.defaultLocale)}}}function Yn(n,t){return e=>b(()=>{var a,o;const s=(a=e(t))==null?void 0:a.current;if(s!==void 0)return s;if(n!==null)return(o=e(n.opts))==null?void 0:o.current})}function Zn(n,t){return e=>{const r=Hn();return b(()=>{const s=e();if(s!==void 0)return s;const a=n(r).current;return a!==void 0?a:t})}}const Jn=Zn(n=>n.defaultPortalTo,"body");function Ur(n,t){Y(t,!0);const e=Jn(()=>t.to),r=vn();let s=de(a);function a(){if(!yn||t.disabled)return null;let m=null;return typeof e.current=="string"?m=document.querySelector(e.current):m=e.current,m}let o;function c(){o&&(An(o),o=null)}C([()=>N(s),()=>t.disabled],([m,V])=>{if(!m||V){c();return}return o=En(zn,{target:m,props:{children:t.children},context:r}),()=>{c()}});var l=O(),h=D(l);{var A=m=>{var V=O(),Ot=D(V);Q(Ot,()=>t.children??J),F(m,V)};De(h,m=>{t.disabled&&m(A)})}F(n,l),Z()}function Ee(n,t=500){let e=null;const r=(...s)=>{e!==null&&clearTimeout(e),e=setTimeout(()=>{n(...s)},t)};return r.destroy=()=>{e!==null&&(clearTimeout(e),e=null)},r}function Le(n,t){return n===t||n.contains(t)}function Re(n){return(n==null?void 0:n.ownerDocument)??document}function Vr(n){if(!n)return null;for(const t of n.childNodes)if(t.nodeType!==Node.COMMENT_NODE)return t;return null}function Qn(n,t){const{clientX:e,clientY:r}=n,s=t.getBoundingClientRect();return e<s.left||e>s.right||r<s.top||r>s.bottom}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var et,q,R,nt,rt,_,wt,x,Ut,ut,_e,Vt,it,Wt,Kt,qt,jt,St,Be,zt,Gt;const be=class be{constructor(t){u(this,ut);d(this,"opts");u(this,et);u(this,q);u(this,R,{pointerdown:!1});u(this,nt,!1);u(this,rt,!1);u(this,_);u(this,wt);u(this,x,E);u(this,Ut,t=>{t.defaultPrevented||this.opts.ref.current&&me(()=>{var e,r;!this.opts.ref.current||i(this,jt).call(this,t.target)||t.target&&!i(this,rt)&&((r=(e=i(this,wt)).current)==null||r.call(e,t))})});u(this,Vt,t=>{let e=t;e.defaultPrevented&&(e=Ae(t)),i(this,et).current(t)});u(this,it,Ee(t=>{if(!this.opts.ref.current){i(this,x).call(this);return}const e=this.opts.isValidEvent.current(t,this.opts.ref.current)||er(t,this.opts.ref.current);if(!i(this,nt)||v(this,ut,Be).call(this)||!e){i(this,x).call(this);return}let r=t;if(r.defaultPrevented&&(r=Ae(r)),i(this,q).current!=="close"&&i(this,q).current!=="defer-otherwise-close"){i(this,x).call(this);return}t.pointerType==="touch"?(i(this,x).call(this),f(this,x,T(i(this,_),"click",i(this,Vt),{once:!0}))):i(this,et).current(r)},10));u(this,Wt,t=>{i(this,R)[t.type]=!0});u(this,Kt,t=>{i(this,R)[t.type]=!1});u(this,qt,()=>{this.opts.ref.current&&f(this,nt,tr(this.opts.ref.current))});u(this,jt,t=>this.opts.ref.current?Le(this.opts.ref.current,t):!1);u(this,St,Ee(()=>{for(const t in i(this,R))i(this,R)[t]=!1;f(this,nt,!1)},20));u(this,zt,()=>{f(this,rt,!0)});u(this,Gt,()=>{f(this,rt,!1)});d(this,"props",{onfocuscapture:i(this,zt),onblurcapture:i(this,Gt)});this.opts=t,f(this,q,t.interactOutsideBehavior),f(this,et,t.onInteractOutside),f(this,wt,t.onFocusOutside),he(()=>{f(this,_,Re(this.opts.ref.current))});let e=E;const r=()=>{i(this,St).call(this),globalThis.bitsDismissableLayers.delete(this),i(this,it).destroy(),e()};C([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return In(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,i(this,q)),e(),e=v(this,ut,_e).call(this))}),r}),It(()=>{i(this,St).destroy(),globalThis.bitsDismissableLayers.delete(this),i(this,it).destroy(),i(this,x).call(this),e()})}static create(t){return new be(t)}};et=new WeakMap,q=new WeakMap,R=new WeakMap,nt=new WeakMap,rt=new WeakMap,_=new WeakMap,wt=new WeakMap,x=new WeakMap,Ut=new WeakMap,ut=new WeakSet,_e=function(){return ft(T(i(this,_),"pointerdown",ft(i(this,Wt),i(this,qt)),{capture:!0}),T(i(this,_),"pointerdown",ft(i(this,Kt),i(this,it))),T(i(this,_),"focusin",i(this,Ut)))},Vt=new WeakMap,it=new WeakMap,Wt=new WeakMap,Kt=new WeakMap,qt=new WeakMap,jt=new WeakMap,St=new WeakMap,Be=function(){return Object.values(i(this,R)).some(Boolean)},zt=new WeakMap,Gt=new WeakMap;let ie=be;function $n(n=[...globalThis.bitsDismissableLayers]){return n.findLast(([t,{current:e}])=>e==="close"||e==="ignore")}function tr(n){const t=[...globalThis.bitsDismissableLayers],e=$n(t);if(e)return e[0].opts.ref.current===n;const[r]=t[0];return r.opts.ref.current===n}function er(n,t){if("button"in n&&n.button>0)return!1;const e=n.target;return wn(e)?Re(e).documentElement.contains(e)&&!Le(t,e)&&Qn(n,t):!1}function Ae(n){const t=n.currentTarget,e=n.target;let r;n instanceof PointerEvent?r=new PointerEvent(n.type,n):r=new PointerEvent("pointerdown",n);let s=!1;return new Proxy(r,{get:(o,c)=>c==="currentTarget"?t:c==="target"?e:c==="preventDefault"?()=>{s=!0,typeof o.preventDefault=="function"&&o.preventDefault()}:c==="defaultPrevented"?s:c in o?o[c]:n[c]})}function Wr(n,t){Y(t,!0);let e=y(t,"interactOutsideBehavior",3,"close"),r=y(t,"onInteractOutside",3,E),s=y(t,"onFocusOutside",3,E),a=y(t,"isValidEvent",3,()=>!1);const o=ie.create({id:b(()=>t.id),interactOutsideBehavior:b(()=>e()),onInteractOutside:b(()=>r()),enabled:b(()=>t.enabled),onFocusOutside:b(()=>s()),isValidEvent:b(()=>a()),ref:t.ref});var c=O(),l=D(c);Q(l,()=>t.children??J,()=>({props:o.props})),F(n,c),Z()}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var Ht,Xt;const ve=class ve{constructor(t){d(this,"opts");d(this,"domContext");u(this,Ht,()=>T(this.domContext.getDocument(),"keydown",i(this,Xt),{passive:!1}));u(this,Xt,t=>{if(t.key!==Sn||!nr(this))return;const e=new KeyboardEvent(t.type,t);t.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(e)});this.opts=t,this.domContext=new ke(this.opts.ref);let e=E;C(()=>t.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,t.escapeKeydownBehavior),e=i(this,Ht).call(this)),()=>{e(),globalThis.bitsEscapeLayers.delete(this)}))}static create(t){return new ve(t)}};Ht=new WeakMap,Xt=new WeakMap;let se=ve;function nr(n){const t=[...globalThis.bitsEscapeLayers],e=t.findLast(([s,{current:a}])=>a==="close"||a==="ignore");if(e)return e[0]===n;const[r]=t[0];return r===n}function Kr(n,t){Y(t,!0);let e=y(t,"escapeKeydownBehavior",3,"close"),r=y(t,"onEscapeKeydown",3,E);se.create({escapeKeydownBehavior:b(()=>e()),onEscapeKeydown:b(()=>r()),enabled:b(()=>t.enabled),ref:t.ref});var s=O(),a=D(s);Q(a,()=>t.children??J),F(n,s),Z()}var k,Tt,j;const Yt=class Yt{constructor(){u(this,k,Fe([]));u(this,Tt,new WeakMap);u(this,j,new WeakMap)}static getInstance(){return this.instance||(this.instance=new Yt),this.instance}register(t){const e=this.getActive();e&&e!==t&&e.pause();const r=document.activeElement;r&&r!==document.body&&i(this,j).set(t,r),i(this,k).current=i(this,k).current.filter(s=>s!==t),i(this,k).current.unshift(t)}unregister(t){i(this,k).current=i(this,k).current.filter(r=>r!==t);const e=this.getActive();e&&e.resume()}getActive(){return i(this,k).current[0]}setFocusMemory(t,e){i(this,Tt).set(t,e)}getFocusMemory(t){return i(this,Tt).get(t)}isActiveScope(t){return this.getActive()===t}setPreFocusMemory(t,e){i(this,j).set(t,e)}getPreFocusMemory(t){return i(this,j).get(t)}clearPreFocusMemory(t){i(this,j).delete(t)}};k=new WeakMap,Tt=new WeakMap,j=new WeakMap,d(Yt,"instance");let oe=Yt;/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ue=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ae=Ue.join(","),Ve=typeof Element>"u",at=Ve?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Lt=!Ve&&Element.prototype.getRootNode?function(n){var t;return n==null||(t=n.getRootNode)===null||t===void 0?void 0:t.call(n)}:function(n){return n==null?void 0:n.ownerDocument},Rt=function n(t,e){var r;e===void 0&&(e=!0);var s=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),a=s===""||s==="true",o=a||e&&t&&n(t.parentNode);return o},rr=function(t){var e,r=t==null||(e=t.getAttribute)===null||e===void 0?void 0:e.call(t,"contenteditable");return r===""||r==="true"},We=function(t,e,r){if(Rt(t))return[];var s=Array.prototype.slice.apply(t.querySelectorAll(ae));return e&&at.call(t,ae)&&s.unshift(t),s=s.filter(r),s},Ke=function n(t,e,r){for(var s=[],a=Array.from(t);a.length;){var o=a.shift();if(!Rt(o,!1))if(o.tagName==="SLOT"){var c=o.assignedElements(),l=c.length?c:o.children,h=n(l,!0,r);r.flatten?s.push.apply(s,h):s.push({scopeParent:o,candidates:h})}else{var A=at.call(o,ae);A&&r.filter(o)&&(e||!t.includes(o))&&s.push(o);var m=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),V=!Rt(m,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(m&&V){var Ot=n(m===!0?o.children:m.children,!0,r);r.flatten?s.push.apply(s,Ot):s.push({scopeParent:o,candidates:Ot})}else a.unshift.apply(a,o.children)}}return s},qe=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},je=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||rr(t))&&!qe(t)?0:t.tabIndex},ir=function(t,e){var r=je(t);return r<0&&e&&!qe(t)?0:r},sr=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},ze=function(t){return t.tagName==="INPUT"},or=function(t){return ze(t)&&t.type==="hidden"},ar=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return e},ur=function(t,e){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===e)return t[r]},cr=function(t){if(!t.name)return!0;var e=t.form||Lt(t),r=function(c){return e.querySelectorAll('input[type="radio"][name="'+c+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(t.name));else try{s=r(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var a=ur(s,t.form);return!a||a===t},lr=function(t){return ze(t)&&t.type==="radio"},fr=function(t){return lr(t)&&!cr(t)},hr=function(t){var e,r=t&&Lt(t),s=(e=r)===null||e===void 0?void 0:e.host,a=!1;if(r&&r!==t){var o,c,l;for(a=!!((o=s)!==null&&o!==void 0&&(c=o.ownerDocument)!==null&&c!==void 0&&c.contains(s)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!a&&s;){var h,A,m;r=Lt(s),s=(h=r)===null||h===void 0?void 0:h.host,a=!!((A=s)!==null&&A!==void 0&&(m=A.ownerDocument)!==null&&m!==void 0&&m.contains(s))}}return a},Ce=function(t){var e=t.getBoundingClientRect(),r=e.width,s=e.height;return r===0&&s===0},dr=function(t,e){var r=e.displayCheck,s=e.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var a=at.call(t,"details>summary:first-of-type"),o=a?t.parentElement:t;if(at.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var c=t;t;){var l=t.parentElement,h=Lt(t);if(l&&!l.shadowRoot&&s(l)===!0)return Ce(t);t.assignedSlot?t=t.assignedSlot:!l&&h!==t.ownerDocument?t=h.host:t=l}t=c}if(hr(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Ce(t);return!1},mr=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var r=0;r<e.children.length;r++){var s=e.children.item(r);if(s.tagName==="LEGEND")return at.call(e,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}e=e.parentElement}return!1},_t=function(t,e){return!(e.disabled||Rt(e)||or(e)||dr(e,t)||ar(e)||mr(e))},Ne=function(t,e){return!(fr(e)||je(e)<0||!_t(t,e))},br=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},vr=function n(t){var e=[],r=[];return t.forEach(function(s,a){var o=!!s.scopeParent,c=o?s.scopeParent:s,l=ir(c,o),h=o?n(s.candidates):c;l===0?o?e.push.apply(e,h):e.push(c):r.push({documentOrder:a,tabIndex:l,item:s,isScope:o,content:h})}),r.sort(sr).reduce(function(s,a){return a.isScope?s.push.apply(s,a.content):s.push(a.content),s},[]).concat(e)},pr=function(t,e){e=e||{};var r;return e.getShadowRoot?r=Ke([t],e.includeContainer,{filter:Ne.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:br}):r=We(t,e.includeContainer,Ne.bind(null,e)),vr(r)},gr=function(t,e){e=e||{};var r;return e.getShadowRoot?r=Ke([t],e.includeContainer,{filter:_t.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):r=We(t,e.includeContainer,_t.bind(null,e)),r},yr=Ue.concat("iframe").join(","),wr=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return at.call(t,yr)===!1?!1:_t(e,t)},B,g,w,z,U,p,Ge,He,Xe,Ye,ce,xt,le;const pe=class pe{constructor(t){u(this,p);u(this,B,!1);u(this,g,null);u(this,w,oe.getInstance());u(this,z,[]);u(this,U);f(this,U,t)}get paused(){return i(this,B)}pause(){f(this,B,!0)}resume(){f(this,B,!1)}mount(t){i(this,g)&&this.unmount(),f(this,g,t),i(this,w).register(this),v(this,p,Ye).call(this),v(this,p,He).call(this)}unmount(){i(this,g)&&(v(this,p,Ge).call(this),v(this,p,Xe).call(this),i(this,w).unregister(this),i(this,w).clearPreFocusMemory(this),f(this,g,null))}static use(t){let e=null;return C([()=>t.ref.current,()=>t.enabled.current],([r,s])=>{r&&s?(e||(e=new pe(t)),e.mount(r)):e&&(e.unmount(),e=null)}),It(()=>{e==null||e.unmount()}),{get props(){return{tabindex:-1}}}}};B=new WeakMap,g=new WeakMap,w=new WeakMap,z=new WeakMap,U=new WeakMap,p=new WeakSet,Ge=function(){for(const t of i(this,z))t();f(this,z,[])},He=function(){if(!i(this,g))return;const t=new CustomEvent("focusScope.onOpenAutoFocus",{bubbles:!1,cancelable:!0});i(this,U).onOpenAutoFocus.current(t),t.defaultPrevented||requestAnimationFrame(()=>{if(!i(this,g))return;const e=v(this,p,xt).call(this);e?(e.focus(),i(this,w).setFocusMemory(this,e)):i(this,g).focus()})},Xe=function(){var e,r;const t=new CustomEvent("focusScope.onCloseAutoFocus",{bubbles:!1,cancelable:!0});if((r=(e=i(this,U).onCloseAutoFocus).current)==null||r.call(e,t),!t.defaultPrevented){const s=i(this,w).getPreFocusMemory(this);if(s&&document.contains(s))try{s.focus()}catch{document.body.focus()}}},Ye=function(){if(!i(this,g)||!i(this,U).trap.current)return;const t=i(this,g),e=t.ownerDocument,r=o=>{if(i(this,B)||!i(this,w).isActiveScope(this))return;const c=o.target;if(!c)return;if(t.contains(c))i(this,w).setFocusMemory(this,c);else{const h=i(this,w).getFocusMemory(this);if(h&&t.contains(h)&&wr(h))o.preventDefault(),h.focus();else{const A=v(this,p,xt).call(this),m=v(this,p,le).call(this)[0];(A||m||t).focus()}}},s=o=>{if(!i(this,U).loop||i(this,B)||o.key!=="Tab"||!i(this,w).isActiveScope(this))return;const c=v(this,p,ce).call(this);if(c.length<2)return;const l=c[0],h=c[c.length-1];!o.shiftKey&&e.activeElement===h?(o.preventDefault(),l.focus()):o.shiftKey&&e.activeElement===l&&(o.preventDefault(),h.focus())};i(this,z).push(T(e,"focusin",r,{capture:!0}),T(t,"keydown",s));const a=new MutationObserver(()=>{const o=i(this,w).getFocusMemory(this);if(o&&!t.contains(o)){const c=v(this,p,xt).call(this),l=v(this,p,le).call(this)[0],h=c||l;h?(h.focus(),i(this,w).setFocusMemory(this,h)):t.focus()}});a.observe(t,{childList:!0,subtree:!0}),i(this,z).push(()=>a.disconnect())},ce=function(){return i(this,g)?pr(i(this,g),{includeContainer:!1,getShadowRoot:!0}):[]},xt=function(){return v(this,p,ce).call(this)[0]||null},le=function(){return i(this,g)?gr(i(this,g),{includeContainer:!1,getShadowRoot:!0}):[]};let ue=pe;function qr(n,t){Y(t,!0);let e=y(t,"enabled",3,!1),r=y(t,"trapFocus",3,!1),s=y(t,"loop",3,!1),a=y(t,"onCloseAutoFocus",3,E),o=y(t,"onOpenAutoFocus",3,E);const c=ue.use({enabled:b(()=>e()),trap:b(()=>r()),loop:s(),onCloseAutoFocus:b(()=>a()),onOpenAutoFocus:b(()=>o()),ref:t.ref});var l=O(),h=D(l);Q(h,()=>t.focusScope??J,()=>({props:c.props})),F(n,l),Z()}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var st,Zt,Ze,Jt,Et;const ge=class ge{constructor(t){u(this,Zt);d(this,"opts");d(this,"domContext");u(this,st,E);u(this,Jt,t=>{const e=this.opts.ref.current,r=t.target;!Se(e)||!Se(r)||!this.opts.enabled.current||!Tr(this)||!kn(e,r)||(this.opts.onPointerDown.current(t),!t.defaultPrevented&&f(this,st,Sr(e,this.domContext.getDocument().body)))});u(this,Et,()=>{i(this,st).call(this),f(this,st,E)});this.opts=t,this.domContext=new ke(t.ref);let e=E;C(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),e(),e=v(this,Zt,Ze).call(this)),()=>{e(),i(this,Et).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}static create(t){return new ge(t)}};st=new WeakMap,Zt=new WeakSet,Ze=function(){return ft(T(this.domContext.getDocument(),"pointerdown",i(this,Jt)),T(this.domContext.getDocument(),"pointerup",Tn(i(this,Et),this.opts.onPointerUp.current)))},Jt=new WeakMap,Et=new WeakMap;let fe=ge;const Ie=n=>n.style.userSelect||n.style.webkitUserSelect;function Sr(n,t){const e=Ie(t),r=Ie(n);return Dt(t,"none"),Dt(n,"text"),()=>{Dt(t,e),Dt(n,r)}}function Dt(n,t){n.style.userSelect=t,n.style.webkitUserSelect=t}function Tr(n){const t=[...globalThis.bitsTextSelectionLayers];if(!t.length)return!1;const e=t.at(-1);return e?e[0]===n:!1}function jr(n,t){Y(t,!0);let e=y(t,"preventOverflowTextSelection",3,!0),r=y(t,"onPointerDown",3,E),s=y(t,"onPointerUp",3,E);fe.create({id:b(()=>t.id),onPointerDown:b(()=>r()),onPointerUp:b(()=>s()),enabled:b(()=>t.enabled&&e()),ref:t.ref});var a=O(),o=D(a);Q(o,()=>t.children??J),F(n,a),Z()}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function Er(n="bits"){return globalThis.bitsIdCounter.current++,`${n}-${globalThis.bitsIdCounter.current}`}var At,ot,G,H,Qt,Je;class Ar{constructor(t){u(this,Qt);u(this,At);u(this,ot,0);u(this,G,ht());u(this,H);f(this,At,t)}get(...t){return f(this,ot,i(this,ot)+1),N(i(this,G))===void 0&&f(this,H,pn(()=>{I(i(this,G),i(this,At).call(this,...t),!0)})),he(()=>()=>{v(this,Qt,Je).call(this)}),N(i(this,G))}}At=new WeakMap,ot=new WeakMap,G=new WeakMap,H=new WeakMap,Qt=new WeakSet,Je=function(){f(this,ot,i(this,ot)-1),i(this,H)&&i(this,ot)<=0&&(i(this,H).call(this),I(i(this,G),void 0),f(this,H,void 0))};const kt=new Cn;let Ft=ht(null),W=null,ct=null,lt=!1;const Oe=b(()=>{for(const n of kt.values())if(n)return!0;return!1});let ee=null;const Cr=new Ar(()=>{function n(){document.body.setAttribute("style",N(Ft)??""),document.body.style.removeProperty("--scrollbar-width"),Te&&(W==null||W()),I(Ft,null)}function t(){ct!==null&&(window.clearTimeout(ct),ct=null)}function e(s,a){t(),lt=!0,ee=Date.now();const o=ee,c=()=>{ct=null,ee===o&&(Qe(kt)?lt=!1:(lt=!1,a()))},l=s===null?24:s;ct=window.setTimeout(c,l)}function r(){N(Ft)===null&&kt.size===0&&!lt&&I(Ft,document.body.getAttribute("style"),!0)}return C(()=>Oe.current,()=>{if(!Oe.current)return;r(),lt=!1;const s=getComputedStyle(document.body),a=window.innerWidth-document.documentElement.clientWidth,c={padding:Number.parseInt(s.paddingRight??"0",10)+a,margin:Number.parseInt(s.marginRight??"0",10)};a>0&&(document.body.style.paddingRight=`${c.padding}px`,document.body.style.marginRight=`${c.margin}px`,document.body.style.setProperty("--scrollbar-width",`${a}px`),document.body.style.overflow="hidden"),Te&&(W=T(document,"touchmove",l=>{l.target===document.documentElement&&(l.touches.length>1||l.preventDefault())},{passive:!1})),me(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),It(()=>()=>{W==null||W()}),{get lockMap(){return kt},resetBodyStyle:n,scheduleCleanupIfNoNewLocks:e,cancelPendingCleanup:t,ensureInitialStyleCaptured:r}});var X,Ct,Nt,S;class Nr{constructor(t,e=()=>null){u(this,X,Er());u(this,Ct);u(this,Nt,()=>null);u(this,S);d(this,"locked");f(this,Ct,t),f(this,Nt,e),f(this,S,Cr.get()),i(this,S)&&(i(this,S).cancelPendingCleanup(),i(this,S).ensureInitialStyleCaptured(),i(this,S).lockMap.set(i(this,X),i(this,Ct)??!1),this.locked=b(()=>i(this,S).lockMap.get(i(this,X))??!1,r=>i(this,S).lockMap.set(i(this,X),r)),It(()=>{if(i(this,S).lockMap.delete(i(this,X)),Qe(i(this,S).lockMap))return;const r=i(this,Nt).call(this);i(this,S).scheduleCleanupIfNoNewLocks(r,()=>{i(this,S).resetBodyStyle()})}))}}X=new WeakMap,Ct=new WeakMap,Nt=new WeakMap,S=new WeakMap;function Qe(n){for(const[t,e]of n)if(e)return!0;return!1}function zr(n,t){Y(t,!0);let e=y(t,"preventScroll",3,!0),r=y(t,"restoreScrollDelay",3,null);e()&&new Nr(e(),()=>r()),Z()}export{Wr as D,Kr as E,qr as F,Br as O,_r as P,zr as S,jr as T,In as a,Ur as b,Mn as c,ke as d,me as e,Vr as f,Ln as g,Nn as k,It as o,Er as u};
