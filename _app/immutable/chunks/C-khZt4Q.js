var H=e=>{throw TypeError(e)};var N=(e,t,r)=>t.has(e)||H("Cannot "+r);var O=(e,t,r)=>(N(e,t,"read from private field"),r?r.call(e):t.get(e)),M=(e,t,r)=>t.has(e)?H("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),R=(e,t,r,n)=>(N(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);import{a7 as de,a8 as ge,m as me,g as c,a6 as _,F as he,H as be,I as ye,p as G,i as J,e as D,a as B,c as Q,j as $,aq as we,f as ee,s as U,d as Se,r as _e}from"./S3KHkTgG.js";import{j as xe,b as x,e as ve,m as k}from"./D_-XPY6-.js";import{o as X,a as K}from"./Hf0qamOz.js";import"./CWj6FrbW.js";import{p as s,c as E,r as Ae}from"./RMgtJksh.js";import{D as Fe,a as Pe,s as Ce}from"./BqHjlePs.js";import{n as h,P as Oe,F as Ee,a as De,E as Be,D as je,T as Ie,S as Y}from"./DCl44gka.js";import{i as Z}from"./Djabpwrs.js";import{b as Te}from"./tiybkZEy.js";function We(e){return typeof e=="function"}function Me(e){return e!==null&&typeof e=="object"}const Re=["string","number","bigint","boolean"];function ke(e){return e==null||Re.includes(typeof e)?!0:Array.isArray(e)?e.every(t=>ke(t)):typeof e=="object"?Object.getPrototypeOf(e)===Object.prototype:!1}const v=Symbol("box"),V=Symbol("is-writable");function Ke(e){return Me(e)&&v in e}function Ve(e){return u.isBox(e)&&V in e}function u(e){let t=de(ge(e));return{[v]:!0,[V]:!0,get current(){return c(t)},set current(r){me(t,r,!0)}}}function Le(e,t){const r=_(e);return t?{[v]:!0,[V]:!0,get current(){return c(r)},set current(n){t(n)}}:{[v]:!0,get current(){return e()}}}function qe(e){return u.isBox(e)?e:We(e)?u.with(e):u(e)}function ze(e){return Object.entries(e).reduce((t,[r,n])=>u.isBox(n)?(u.isWritableBox(n)?Object.defineProperty(t,r,{get(){return n.current},set(a){n.current=a}}):Object.defineProperty(t,r,{get(){return n.current}}),t):Object.assign(t,{[r]:n}),{})}function He(e){return u.isWritableBox(e)?{[v]:!0,get current(){return e.current}}:e}u.from=qe;u.with=Le;u.flatten=ze;u.readonly=He;u.isBox=Ke;u.isWritableBox=Ve;function Ne(e,t){const r=RegExp(e,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,t):n}}const Ue=Ne(/[A-Z]/,e=>`-${e.toLowerCase()}`);function Xe(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected an argument of type object, but got ${typeof e}`);return Object.keys(e).map(t=>`${Ue(t)}: ${e[t]};`).join(`
`)}function Ye(e={}){return Xe(e).replace(`
`," ")}const Ze={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};Ye(Ze);const Ge=typeof window<"u"?window:void 0;function Je(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){const r=t.shadowRoot.activeElement;if(r===t)break;t=r}return t}var b,A;class Qe{constructor(t={}){M(this,b);M(this,A);const{window:r=Ge,document:n=r==null?void 0:r.document}=t;r!==void 0&&(R(this,b,n),R(this,A,xe(a=>{const i=X(r,"focusin",a),l=X(r,"focusout",a);return()=>{i(),l()}})))}get current(){var t;return(t=O(this,A))==null||t.call(this),O(this,b)?Je(O(this,b)):null}}b=new WeakMap,A=new WeakMap;new Qe;function $e(e,t){switch(e){case"post":be(t);break;case"pre":he(t);break}}function te(e,t,r,n={}){const{lazy:a=!1}=n;let i=!a,l=Array.isArray(e)?[]:void 0;$e(t,()=>{const f=Array.isArray(e)?e.map(I=>I()):e();if(!i){i=!0,l=f;return}const j=ye(()=>r(f,l));return l=f,j})}function et(e,t,r){te(e,"post",t,r)}function tt(e,t,r){te(e,"pre",t,r)}et.pre=tt;function bt(e,t){G(t,!0);let r=s(t,"open",15,!1),n=s(t,"onOpenChange",3,h),a=s(t,"onOpenChangeComplete",3,h);Fe.create({variant:x.with(()=>"dialog"),open:x.with(()=>r(),f=>{r(f),n()(f)}),onOpenChangeComplete:x.with(()=>a())});var i=J(),l=D(i);K(l,()=>t.children??$),B(e,i),Q()}var rt=ee("<!> <!>",1),nt=ee("<!> <div><!></div>",1);function yt(e,t){const r=we();G(t,!0);let n=s(t,"id",19,()=>ve(r)),a=s(t,"ref",15,null),i=s(t,"forceMount",3,!1),l=s(t,"onCloseAutoFocus",3,h),f=s(t,"onOpenAutoFocus",3,h),j=s(t,"onEscapeKeydown",3,h),I=s(t,"onInteractOutside",3,h),re=s(t,"trapFocus",3,!0),L=s(t,"preventScroll",3,!0),ne=s(t,"restoreScrollDelay",3,null),oe=Ae(t,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","onCloseAutoFocus","onOpenAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll","restoreScrollDelay"]);const o=Pe.create({id:x.with(()=>n()),ref:x.with(()=>a(),T=>a(T))}),d=_(()=>k(oe,o.props));{const T=ue=>{{const ae=(F,g)=>{let q=()=>g==null?void 0:g().props;Be(F,E(()=>c(d),{get enabled(){return o.root.opts.open.current},get ref(){return o.opts.ref},onEscapeKeydown:P=>{j()(P),!P.defaultPrevented&&o.root.handleClose()},children:(P,ot)=>{je(P,E(()=>c(d),{get ref(){return o.opts.ref},get enabled(){return o.root.opts.open.current},onInteractOutside:C=>{I()(C),!C.defaultPrevented&&o.root.handleClose()},children:(C,st)=>{Ie(C,E(()=>c(d),{get ref(){return o.opts.ref},get enabled(){return o.root.opts.open.current},children:(ce,ut)=>{var z=J(),le=D(z);{var fe=m=>{var y=rt(),w=D(y);{var S=p=>{Y(p,{get preventScroll(){return L()},get restoreScrollDelay(){return ne()}})};Z(w,p=>{o.root.opts.open.current&&p(S)})}var W=U(w,2);{let p=_(()=>({props:k(c(d),q()),...o.snippetProps}));K(W,()=>t.child,()=>c(p))}B(m,y)},pe=m=>{var y=nt(),w=D(y);Y(w,{get preventScroll(){return L()}});var S=U(w,2);Te(S,p=>({...p}),[()=>k(c(d),q())]);var W=Se(S);K(W,()=>t.children??$),_e(S),B(m,y)};Z(le,m=>{t.child?m(fe):m(pe,!1)})}B(ce,z)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))};let ie=_(()=>Ce({forceMount:i(),present:o.root.opts.open.current,open:o.root.opts.open.current}));Ee(ue,{get ref(){return o.opts.ref},loop:!0,get trapFocus(){return re()},get enabled(){return c(ie)},get onOpenAutoFocus(){return f()},onCloseAutoFocus:F=>{l()(F),!F.defaultPrevented&&De(1,()=>{var g;return(g=o.root.triggerNode)==null?void 0:g.focus()})},focusScope:ae,$$slots:{focusScope:!0}})}};let se=_(()=>o.root.opts.open.current||i());Oe(e,E(()=>c(d),{get forceMount(){return i()},get open(){return c(se)},get ref(){return o.opts.ref},presence:T,$$slots:{presence:!0}}))}Q()}export{bt as D,yt as a,u as b,ke as i,Ye as s,et as w};
