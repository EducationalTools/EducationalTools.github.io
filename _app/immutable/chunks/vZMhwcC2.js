import{T as z,h as Q,L as w,j as m,V as j,k,e as J,W as te,H as se,J as ue,K,M as R,u as I,X as ve,N as L,l as O,q as ee,Y as y,Z as ae,_ as de,$ as D,a0 as V,a1 as U,a2 as q,m as oe,a3 as W,a4 as re,i as _e,a5 as ce,a6 as he,a7 as me,a8 as Ee,G as ne,a9 as pe,aa as Te,E as Ae,ab as ge}from"./B5we8SHc.js";import{a as Z}from"./DK2QNmYO.js";import{d as xe}from"./16kX-NH5.js";import{i as Ce}from"./BPl6d-iz.js";function be(f,e){return e}function Ne(f,e,n,u){for(var o=[],c=e.length,v=0;v<c;v++)he(e[v].e,o,!0);var _=c>0&&o.length===0&&n!==null;if(_){var h=n.parentNode;me(h),h.append(n),u.clear(),N(f,e[0].prev,e[c-1].next)}Ee(o,()=>{for(var l=0;l<c;l++){var d=e[l];_||(u.delete(d.k),N(f,d.prev,d.next)),ne(d.e,!_)}})}function ye(f,e,n,u,o,c=null){var v=f,_={flags:e,items:new Map,first:null},h=(e&re)!==0;if(h){var l=f;v=m?w(j(l)):l.appendChild(z())}m&&k();var d=null,E=!1,a=te(()=>{var s=n();return _e(s)?s:s==null?[]:ae(s)});Q(()=>{var s=J(a),r=s.length;if(E&&r===0)return;E=r===0;let x=!1;if(m){var T=se(v)===ue;T!==(r===0)&&(v=K(),w(v),R(!1),x=!0)}if(m){for(var A=null,g,p=0;p<r;p++){if(I.nodeType===8&&I.data===ve){v=I,x=!0,R(!1);break}var i=s[p],t=u(i,p);g=ie(I,_,A,null,i,t,p,o,e,n),_.items.set(t,g),A=g}r>0&&w(K())}m||Ie(s,_,v,o,e,u,n),c!==null&&(r===0?d?L(d):d=O(()=>c(v)):d!==null&&ee(d,()=>{d=null})),x&&R(!0),J(a)}),m&&(v=I)}function Ie(f,e,n,u,o,c,v){var F,G,P,X;var _=(o&ce)!==0,h=(o&(V|q))!==0,l=f.length,d=e.items,E=e.first,a=E,s,r=null,x,T=[],A=[],g,p,i,t;if(_)for(t=0;t<l;t+=1)g=f[t],p=c(g,t),i=d.get(p),i!==void 0&&((F=i.a)==null||F.measure(),(x??(x=new Set)).add(i));for(t=0;t<l;t+=1){if(g=f[t],p=c(g,t),i=d.get(p),i===void 0){var fe=a?a.e.nodes_start:n;r=ie(fe,e,r,r===null?e.first:r.next,g,p,t,u,o,v),d.set(p,r),T=[],A=[],a=r.next;continue}if(h&&Se(i,g,t,o),(i.e.f&y)!==0&&(L(i.e),_&&((G=i.a)==null||G.unfix(),(x??(x=new Set)).delete(i))),i!==a){if(s!==void 0&&s.has(i)){if(T.length<A.length){var H=A[0],C;r=H.prev;var Y=T[0],M=T[T.length-1];for(C=0;C<T.length;C+=1)$(T[C],H,n);for(C=0;C<A.length;C+=1)s.delete(A[C]);N(e,Y.prev,M.next),N(e,r,Y),N(e,M,H),a=H,r=M,t-=1,T=[],A=[]}else s.delete(i),$(i,a,n),N(e,i.prev,i.next),N(e,i,r===null?e.first:r.next),N(e,r,i),r=i;continue}for(T=[],A=[];a!==null&&a.k!==p;)(a.e.f&y)===0&&(s??(s=new Set)).add(a),A.push(a),a=a.next;if(a===null)continue;i=a}T.push(i),r=i,a=i.next}if(a!==null||s!==void 0){for(var S=s===void 0?[]:ae(s);a!==null;)(a.e.f&y)===0&&S.push(a),a=a.next;var b=S.length;if(b>0){var le=(o&re)!==0&&l===0?n:null;if(_){for(t=0;t<b;t+=1)(P=S[t].a)==null||P.measure();for(t=0;t<b;t+=1)(X=S[t].a)==null||X.fix()}Ne(e,S,le,d)}}_&&de(()=>{var B;if(x!==void 0)for(i of x)(B=i.a)==null||B.apply()}),D.first=e.first&&e.first.e,D.last=r&&r.e}function Se(f,e,n,u){(u&V)!==0&&U(f.v,e),(u&q)!==0?U(f.i,n):f.i=n}function ie(f,e,n,u,o,c,v,_,h,l){var d=(h&V)!==0,E=(h&pe)===0,a=d?E?oe(o,!1,!1):W(o):o,s=(h&q)===0?v:W(v),r={i:s,v:a,k:c,a:null,e:null,prev:n,next:u};try{return r.e=O(()=>_(f,a,s,l),m),r.e.prev=n&&n.e,r.e.next=u&&u.e,n===null?e.first=r:(n.next=r,n.e.next=r.e),u!==null&&(u.prev=r,u.e.prev=r.e),r}finally{}}function $(f,e,n){for(var u=f.next?f.next.e.nodes_start:n,o=e?e.e.nodes_start:n,c=f.e.nodes_start;c!==u;){var v=Te(c);o.before(c),c=v}}function N(f,e,n){e===null?f.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function ke(f,e,n,u,o,c){let v=m;m&&k();var _,h,l=null;m&&I.nodeType===1&&(l=I,k());var d=m?I:f,E;Q(()=>{const a=e()||null;var s=n||a==="svg"?ge:null;a!==_&&(E&&(a===null?ee(E,()=>{E=null,h=null}):a===h?L(E):(ne(E),Z(!1))),a&&a!==h&&(E=O(()=>{if(l=m?l:s?document.createElementNS(s,a):document.createElement(a),xe(l,l),u){m&&Ce(a)&&l.append(document.createComment(""));var r=m?j(l):l.appendChild(z());m&&(r===null?R(!1):w(r)),u(l,r)}D.nodes_end=l,d.before(l)})),_=a,_&&(h=_),Z(!0))},Ae),v&&(R(!0),w(d))}export{ye as a,ke as e,be as i};
