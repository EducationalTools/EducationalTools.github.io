import{w as W}from"./index.cT3eZp6i.js";var p={local:{},session:{}};function B(t){return t==="local"?localStorage:sessionStorage}function F(t,l,N){var f,g,m,w,v,h,b,_;const d=(f=void 0)!=null?f:JSON,s=(g=void 0)!=null?g:"local",I=(m=void 0)!=null?m:!0,$=(v=(w=void 0)!=null?w:void 0)!=null?v:e=>console.error(`Error when writing value from persisted store "${t}" to ${s}`,e),S=(h=void 0)!=null?h:(e,r)=>console.error(`Error when parsing ${e?'"'+e+'"':"value"} from persisted store "${t}"`,r),E=(b=void 0)!=null?b:e=>e,y=(_=void 0)!=null?_:e=>e,T=typeof window<"u"&&typeof document<"u",c=T?B(s):null;function V(e,r){const a=y(r);try{c==null||c.setItem(e,d.stringify(a))}catch(u){$(u)}}function z(){function e(n){try{return d.parse(n)}catch(i){S(n,i)}}const r=c==null?void 0:c.getItem(t);if(r==null)return l;const a=e(r);return a==null?l:E(a)}if(!p[s][t]){const e=z(),r=W(e,n=>{if(T&&s=="local"&&I){const i=o=>{if(o.key===t&&o.newValue){let x;try{x=d.parse(o.newValue)}catch(L){S(o.newValue,L);return}const G=E(x);n(G)}};return window.addEventListener("storage",i),()=>window.removeEventListener("storage",i)}}),{subscribe:a,set:u}=r;p[s][t]={set(n){u(n),V(t,n)},update(n){return r.update(i=>{const o=n(i);return V(t,o),o})},reset(){this.set(l)},subscribe:a}}return p[s][t]}const P=F("preferences",{experimentalFeatures:!1,open:"tab"}),J=[{id:"test",name:"Test Game",description:"This is a test game",url:"/_app/tools/test/index.html"},{id:"test2",name:"Test Game 2",description:"This is a test game 2",url:"/_app/tools/test2/index.html"}];function R(t){return J.find(l=>l.id===t)}export{J as a,R as g,P as p};
