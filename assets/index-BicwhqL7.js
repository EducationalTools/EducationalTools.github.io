import{a as n,p as v,R as b}from"./chunk-UIGDSWPH-BVQp00Zd.js";import{c as L,a as T,u as q}from"./index-jf6C1AH_.js";import{c as V,u as O}from"./index-DstcrvaX.js";import{u as z,a as J}from"./index-DdfkXwL2.js";import"./index-DdRqjIto.js";function M(e){const t=Q(e),r=n.forwardRef((o,s)=>{const{children:c,...a}=o,i=n.Children.toArray(c),d=i.find(ee);if(d){const u=d.props.children,p=i.map(I=>I===d?n.Children.count(u)>1?n.Children.only(null):n.isValidElement(u)?u.props.children:null:I);return v.jsx(t,{...a,ref:s,children:n.isValidElement(u)?n.cloneElement(u,void 0,p):null})}return v.jsx(t,{...a,ref:s,children:c})});return r.displayName=`${e}.Slot`,r}function Q(e){const t=n.forwardRef((r,o)=>{const{children:s,...c}=r;if(n.isValidElement(s)){const a=oe(s),i=te(c,s.props);return s.type!==n.Fragment&&(i.ref=o?V(o,a):a),n.cloneElement(s,i)}return n.Children.count(s)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var X=Symbol("radix.slottable");function ee(e){return n.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===X}function te(e,t){const r={...t};for(const o in t){const s=e[o],c=t[o];/^on[A-Z]/.test(o)?s&&c?r[o]=(...i)=>{const d=c(...i);return s(...i),d}:s&&(r[o]=s):o==="style"?r[o]={...s,...c}:o==="className"&&(r[o]=[s,c].filter(Boolean).join(" "))}return{...e,...r}}function oe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function re(e){const t=e+"CollectionProvider",[r,o]=L(t),[s,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:l,children:C}=g,S=b.useRef(null),f=b.useRef(new Map).current;return v.jsx(s,{scope:l,itemMap:f,collectionRef:S,children:C})};a.displayName=t;const i=e+"CollectionSlot",d=M(i),u=b.forwardRef((g,l)=>{const{scope:C,children:S}=g,f=c(i,C),m=O(l,f.collectionRef);return v.jsx(d,{ref:m,children:S})});u.displayName=i;const p=e+"CollectionItemSlot",I="data-radix-collection-item",x=M(p),E=b.forwardRef((g,l)=>{const{scope:C,children:S,...f}=g,m=b.useRef(null),w=O(l,m),F=c(p,C);return b.useEffect(()=>(F.itemMap.set(m,{ref:m,...f}),()=>void F.itemMap.delete(m))),v.jsx(x,{[I]:"",ref:w,children:S})});E.displayName=p;function h(g){const l=c(e+"CollectionConsumer",g);return b.useCallback(()=>{const S=l.collectionRef.current;if(!S)return[];const f=Array.from(S.querySelectorAll(`[${I}]`));return Array.from(l.itemMap.values()).sort((F,_)=>f.indexOf(F.ref.current)-f.indexOf(_.ref.current))},[l.collectionRef,l.itemMap])}return[{Provider:a,Slot:u,ItemSlot:E},h,o]}var ne=n.createContext(void 0);function se(e){const t=n.useContext(ne);return e||t||"ltr"}function ce(e){const t=ie(e),r=n.forwardRef((o,s)=>{const{children:c,...a}=o,i=n.Children.toArray(c),d=i.find(ae);if(d){const u=d.props.children,p=i.map(I=>I===d?n.Children.count(u)>1?n.Children.only(null):n.isValidElement(u)?u.props.children:null:I);return v.jsx(t,{...a,ref:s,children:n.isValidElement(u)?n.cloneElement(u,void 0,p):null})}return v.jsx(t,{...a,ref:s,children:c})});return r.displayName=`${e}.Slot`,r}function ie(e){const t=n.forwardRef((r,o)=>{const{children:s,...c}=r;if(n.isValidElement(s)){const a=fe(s),i=ue(c,s.props);return s.type!==n.Fragment&&(i.ref=o?V(o,a):a),n.cloneElement(s,i)}return n.Children.count(s)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var le=Symbol("radix.slottable");function ae(e){return n.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===le}function ue(e,t){const r={...t};for(const o in t){const s=e[o],c=t[o];/^on[A-Z]/.test(o)?s&&c?r[o]=(...i)=>{const d=c(...i);return s(...i),d}:s&&(r[o]=s):o==="style"?r[o]={...s,...c}:o==="className"&&(r[o]=[s,c].filter(Boolean).join(" "))}return{...e,...r}}function fe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var de=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],G=de.reduce((e,t)=>{const r=ce(`Primitive.${t}`),o=n.forwardRef((s,c)=>{const{asChild:a,...i}=s,d=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(d,{...i,ref:c})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),P="rovingFocusGroup.onEntryFocus",pe={bubbles:!1,cancelable:!0},A="RovingFocusGroup",[D,$,me]=re(A),[Ce,Ae]=L(A,[me]),[ve,Ie]=Ce(A),K=n.forwardRef((e,t)=>v.jsx(D.Provider,{scope:e.__scopeRovingFocusGroup,children:v.jsx(D.Slot,{scope:e.__scopeRovingFocusGroup,children:v.jsx(Re,{...e,ref:t})})}));K.displayName=A;var Re=n.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:s=!1,dir:c,currentTabStopId:a,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:p=!1,...I}=e,x=n.useRef(null),E=O(t,x),h=se(c),[g,l]=q({prop:a,defaultProp:i??null,onChange:d,caller:A}),[C,S]=n.useState(!1),f=J(u),m=$(r),w=n.useRef(!1),[F,_]=n.useState(0);return n.useEffect(()=>{const R=x.current;if(R)return R.addEventListener(P,f),()=>R.removeEventListener(P,f)},[f]),v.jsx(ve,{scope:r,orientation:o,dir:h,loop:s,currentTabStopId:g,onItemFocus:n.useCallback(R=>l(R),[l]),onItemShiftTab:n.useCallback(()=>S(!0),[]),onFocusableItemAdd:n.useCallback(()=>_(R=>R+1),[]),onFocusableItemRemove:n.useCallback(()=>_(R=>R-1),[]),children:v.jsx(G.div,{tabIndex:C||F===0?-1:0,"data-orientation":o,...I,ref:E,style:{outline:"none",...e.style},onMouseDown:T(e.onMouseDown,()=>{w.current=!0}),onFocus:T(e.onFocus,R=>{const U=!w.current;if(R.target===R.currentTarget&&U&&!C){const j=new CustomEvent(P,pe);if(R.currentTarget.dispatchEvent(j),!j.defaultPrevented){const N=m().filter(y=>y.focusable),H=N.find(y=>y.active),Y=N.find(y=>y.id===g),Z=[H,Y,...N].filter(Boolean).map(y=>y.ref.current);B(Z,p)}}w.current=!1}),onBlur:T(e.onBlur,()=>S(!1))})})}),W="RovingFocusGroupItem",k=n.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:s=!1,tabStopId:c,children:a,...i}=e,d=z(),u=c||d,p=Ie(W,r),I=p.currentTabStopId===u,x=$(r),{onFocusableItemAdd:E,onFocusableItemRemove:h,currentTabStopId:g}=p;return n.useEffect(()=>{if(o)return E(),()=>h()},[o,E,h]),v.jsx(D.ItemSlot,{scope:r,id:u,focusable:o,active:s,children:v.jsx(G.span,{tabIndex:I?0:-1,"data-orientation":p.orientation,...i,ref:t,onMouseDown:T(e.onMouseDown,l=>{o?p.onItemFocus(u):l.preventDefault()}),onFocus:T(e.onFocus,()=>p.onItemFocus(u)),onKeyDown:T(e.onKeyDown,l=>{if(l.key==="Tab"&&l.shiftKey){p.onItemShiftTab();return}if(l.target!==l.currentTarget)return;const C=Ee(l,p.orientation,p.dir);if(C!==void 0){if(l.metaKey||l.ctrlKey||l.altKey||l.shiftKey)return;l.preventDefault();let f=x().filter(m=>m.focusable).map(m=>m.ref.current);if(C==="last")f.reverse();else if(C==="prev"||C==="next"){C==="prev"&&f.reverse();const m=f.indexOf(l.currentTarget);f=p.loop?ye(f,m+1):f.slice(m+1)}setTimeout(()=>B(f))}}),children:typeof a=="function"?a({isCurrentTabStop:I,hasTabStop:g!=null}):a})})});k.displayName=W;var ge={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Se(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ee(e,t,r){const o=Se(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ge[o]}function B(e,t=!1){const r=document.activeElement;for(const o of e)if(o===r||(o.focus({preventScroll:t}),document.activeElement!==r))return}function ye(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var _e=K,Ne=k;export{Ne as I,_e as R,re as a,Ae as c,se as u};
