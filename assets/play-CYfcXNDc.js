import{p as e,w as N,z as p,a as x}from"./chunk-UIGDSWPH-BVQp00Zd.js";import{g as w}from"./gmaes-DBIuQo-c.js";import{B as i}from"./button-BtmAzGuo.js";import{a as z}from"./index-DstcrvaX.js";import{c as M}from"./utils-DL16pZsE.js";import{u as S,T as o,l,K as _,m as d}from"./sidebar-B5ax6VRq.js";import{t as h}from"./index-DveFINiG.js";import{d as E,g,c as F}from"./state-Cxcn9RdD.js";import{i as P}from"./experimental-check-BwBX2eWT.js";import{R}from"./refresh-cw-BXrgRzJg.js";import{c}from"./createLucideIcon-Bmk5bfkH.js";import{C as T}from"./index-DvOHeDw5.js";import{B}from"./bookmark-v-vXHrHM.js";import{C as G}from"./index-zl-w0dW4.js";import"./bundle-mjs-BJeS7sC5.js";import"./index-jf6C1AH_.js";import"./index-PsY7313p.js";import"./index-DdfkXwL2.js";import"./index-DdRqjIto.js";import"./index-C0gfdQtO.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]],q=c("app-window",O);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],V=c("bookmark-check",H);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$=c("external-link",L);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],I=c("maximize",A);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],U=c("share",K),W=z("flex w-fit items-stretch [&>*]:focus-visible:z-10 [&>*]:focus-visible:relative [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md has-[>[data-slot=button-group]]:gap-2",{variants:{orientation:{horizontal:"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none",vertical:"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none"}},defaultVariants:{orientation:"horizontal"}});function v({className:n,orientation:t,...r}){return e.jsx("div",{role:"group","data-slot":"button-group","data-orientation":t,className:M(W({orientation:t}),n),...r})}async function xe({params:n}){if(!n.id)throw p(null,{status:404});if(!w(n.id))throw p(null,{status:404});if(!P())throw p(null,{status:404})}const fe=N(function(t){return e.jsx(e.Fragment,{children:e.jsx(D,{...t},t.params.id)})});function D({params:n}){const t=w(n.id),r=x.useRef(null),m=S(),[k,f]=x.useState(!1),j=E(s=>s.addToHistory),b=g(s=>s.saved),C=g(s=>s.toggleSaved),y=F(s=>s.historyCollectionEnabled),u=t?.id?b.includes(t.id):!1;return x.useEffect(()=>{t?.id&&y&&j(t.id)},[t?.id,y,j]),e.jsxs("div",{className:"w-full h-full flex flex-col gap-2 bg-sidebar",children:[e.jsx("iframe",{src:t?.url,ref:r,className:"w-full h-full rounded-md fullscreen:rounded-none"}),k?e.jsxs("div",{className:"p-2 md:py-0 flex flex-row",children:[e.jsx("h1",{className:"text-xl",children:t?.name}),e.jsx("div",{className:"grow"}),e.jsx(i,{size:"icon",variant:"ghost",onClick:()=>{m.isMobile||m.setOpen(!0),f(!1)},children:e.jsx(G,{})})]}):e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 bg-card md:p-0 p-2",children:[e.jsxs("div",{className:"flex flex-col p-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t?.category}),e.jsx("h1",{className:"text-4xl font-extrabold tracking-tight",children:t?.name}),e.jsx("p",{className:"leading-7",children:t?.description})]}),e.jsx("div",{className:"grow"}),e.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[e.jsxs(v,{children:[e.jsxs(o,{children:[e.jsx(l,{asChild:!0,children:e.jsxs(i,{size:"icon",variant:"outline",onClick:()=>{r.current?.focus(),h.success("Focused gmae")},children:[e.jsx(_,{}),e.jsx("span",{className:"sr-only",children:"Fix keyboard input"})]})}),e.jsx(d,{children:"Fix keyboard input"})]}),e.jsxs(o,{children:[e.jsx(l,{asChild:!0,children:e.jsxs(i,{size:"icon",variant:"outline",onClick:()=>{r.current?.contentWindow?.location.reload()},children:[e.jsx(R,{}),e.jsx("span",{className:"sr-only",children:"Reload"})]})}),e.jsx(d,{children:"Reload"})]}),e.jsxs(o,{children:[e.jsx(l,{asChild:!0,children:e.jsxs(i,{size:"icon",variant:"outline",onClick:()=>{const s=window.open("","","width=500px,height=500px");let a=document.createElement("iframe");a.src=t?.url||"",a.style.width="100%",a.style.height="100%",a.style.border="none",s?.document.body.appendChild(a),s&&(s.document.body.style.margin="0",s.document.title="Google")},children:[e.jsx(q,{}),e.jsx("span",{className:"sr-only",children:"Open in new window"})]})}),e.jsx(d,{children:"Open in new window"})]}),e.jsxs(o,{children:[e.jsx(l,{asChild:!0,children:e.jsxs(i,{size:"icon",variant:"outline",onClick:()=>{const s=window.open("");let a=document.createElement("iframe");a.src=t?.url||"",a.style.width="100%",a.style.height="100%",a.style.border="none",s?.document.body.appendChild(a),s&&(s.document.body.style.margin="0",s.document.title="Google")},children:[e.jsx($,{}),e.jsx("span",{className:"sr-only",children:"Open in new tab"})]})}),e.jsx(d,{children:"Open in new tab"})]}),e.jsxs(o,{children:[e.jsx(l,{asChild:!0,children:e.jsxs(i,{size:"icon",onClick:()=>{m.setOpen(!1),f(!0)},variant:"outline",children:[e.jsx(T,{}),e.jsx("span",{className:"sr-only",children:"Maximize"})]})}),e.jsx(d,{children:"Maximize"})]}),e.jsxs(o,{children:[e.jsx(l,{asChild:!0,children:e.jsxs(i,{size:"icon",onClick:()=>{r.current?.requestFullscreen(),r.current?.focus()},children:[e.jsx(I,{}),e.jsx("span",{className:"sr-only",children:"Fullscreen"})]})}),e.jsx(d,{children:"Fullscreen"})]})]}),e.jsxs(v,{children:[e.jsxs(i,{variant:u?"default":"outline",onClick:()=>{t?.id&&C(t.id)},children:[u?e.jsx(V,{}):e.jsx(B,{}),u?"Saved":"Save"]}),e.jsxs(i,{variant:"outline",onClick:async()=>{const s=new URL(window.location.href);if(s.searchParams.set("utm_medium","share"),s.searchParams.set("utm_source","edutools"),s.searchParams.set("utm_campaign","play-page-share"),!navigator.canShare||!navigator.share){if(!navigator.clipboard){h.error("Failed to share");return}navigator.clipboard.writeText(s.toString()).then(()=>{h.success("Copied to clipboard")})}else navigator.share({url:s.toString()}).catch(a=>{a!="AbortError: Share canceled"&&h.error("Failed to share")})},children:[e.jsx(U,{}),"Share"]})]})]})]})]})}export{xe as clientLoader,fe as default};
