import{p as e,a as m,L as p,w as f,z as j}from"./chunk-UIGDSWPH-BVQp00Zd.js";import{p as w}from"./gmaes-DBIuQo-c.js";import{B as u}from"./button-BtmAzGuo.js";import{A as g,u as C,T as b,a as N,b as c,c as v,f as h,d as y,e as x,g as F,h as R,i as S}from"./table-BCsb-ejb.js";import{I as V}from"./input-CFSxLv1b.js";import{i as M}from"./experimental-check-BwBX2eWT.js";import"./index-DstcrvaX.js";import"./bundle-mjs-BJeS7sC5.js";import"./utils-DL16pZsE.js";import"./createLucideIcon-Bmk5bfkH.js";const T=[{accessorKey:"name",filterFn:"fuzzy",header:({column:t})=>e.jsxs(u,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Name",e.jsx(g,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>e.jsx("div",{className:"font-medium",children:t.getValue("name")})},{accessorKey:"description",header:"Description",cell:({row:t})=>e.jsx("div",{className:"max-w-md truncate",children:t.getValue("description")})},{accessorKey:"category",header:({column:t})=>e.jsxs(u,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Category",e.jsx(g,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>e.jsx("div",{className:"capitalize",children:t.getValue("category")})}],z=(t,n,o,d)=>{const i=t.getValue(n);if(!o)return!0;const r=o.toLowerCase(),l=i.toLowerCase();if(l.includes(r))return!0;let s=0;for(let a=0;a<l.length&&s<r.length;a++)l[a]===r[s]&&s++;return s===r.length};function I({columns:t,data:n}){const[o,d]=m.useState([]),[i,r]=m.useState([]),l=C({data:n,columns:t,onSortingChange:d,getCoreRowModel:S(),getSortedRowModel:R(),onColumnFiltersChange:r,getFilteredRowModel:F(),filterFns:{fuzzy:z},state:{sorting:o,columnFilters:i}});return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"flex items-center py-4 px-4",children:e.jsx(V,{placeholder:"Filter gmaes...",value:l.getColumn("name")?.getFilterValue()??"",onChange:s=>l.getColumn("name")?.setFilterValue(s.target.value),className:"max-w-sm"})}),e.jsx("div",{className:"flex-1 overflow-auto border-t",children:e.jsxs(b,{children:[e.jsx(N,{children:l.getHeaderGroups().map(s=>e.jsx(c,{children:s.headers.map(a=>e.jsx(v,{children:a.isPlaceholder?null:h(a.column.columnDef.header,a.getContext())},a.id))},s.id))}),e.jsx(y,{children:l.getRowModel().rows?.length?l.getRowModel().rows.map(s=>e.jsx(c,{"data-state":s.getIsSelected()&&"selected",className:"cursor-pointer hover:bg-muted/50",children:e.jsx(p,{to:`/g/${s.original.id}`,className:"contents",children:s.getVisibleCells().map(a=>e.jsx(x,{children:h(a.column.columnDef.cell,a.getContext())},a.id))})},s.id)):e.jsx(c,{children:e.jsx(x,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]})})]})}async function U(){if(!M())throw j(null,{status:404})}const $=f(function(){return e.jsx("div",{children:e.jsx(I,{columns:T,data:w})})});export{U as clientLoader,$ as default};
