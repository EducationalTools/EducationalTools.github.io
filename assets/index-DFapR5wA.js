import{a as r,p as v,R as h}from"./chunk-JMJ3UQ3L-DLa4wvEN.js";import{c as F,u as Z}from"./index-CeJ37sa3.js";import{c as $,u as O}from"./index-CPvIzByb.js";import{u as q,a as z}from"./index-RdSmrbPg.js";import"./index-vAMRNKaC.js";function J(e,t=[]){let o=[];function n(l,c){const i=r.createContext(c),u=o.length;o=[...o,c];const a=d=>{const{scope:R,children:I,...C}=d,S=R?.[e]?.[u]||i,f=r.useMemo(()=>C,Object.values(C));return v.jsx(S.Provider,{value:f,children:I})};a.displayName=l+"Provider";function p(d,R){const I=R?.[e]?.[u]||i,C=r.useContext(I);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${d}\` must be used within \`${l}\``)}return[a,p]}const s=()=>{const l=o.map(c=>r.createContext(c));return function(i){const u=i?.[e]||l;return r.useMemo(()=>({[`__scope${e}`]:{...i,[e]:u}}),[i,u])}};return s.scopeName=e,[n,Q(s,...t)]}function Q(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=n.reduce((i,{useScope:u,scopeName:a})=>{const d=u(l)[`__scope${a}`];return{...i,...d}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return o.scopeName=t.scopeName,o}function D(e){const t=X(e),o=r.forwardRef((n,s)=>{const{children:l,...c}=n,i=r.Children.toArray(l),u=i.find(te);if(u){const a=u.props.children,p=i.map(d=>d===u?r.Children.count(a)>1?r.Children.only(null):r.isValidElement(a)?a.props.children:null:d);return v.jsx(t,{...c,ref:s,children:r.isValidElement(a)?r.cloneElement(a,void 0,p):null})}return v.jsx(t,{...c,ref:s,children:l})});return o.displayName=`${e}.Slot`,o}function X(e){const t=r.forwardRef((o,n)=>{const{children:s,...l}=o;if(r.isValidElement(s)){const c=ne(s),i=oe(l,s.props);return s.type!==r.Fragment&&(i.ref=n?$(n,c):c),r.cloneElement(s,i)}return r.Children.count(s)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ee=Symbol("radix.slottable");function te(e){return r.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ee}function oe(e,t){const o={...t};for(const n in t){const s=e[n],l=t[n];/^on[A-Z]/.test(n)?s&&l?o[n]=(...i)=>{const u=l(...i);return s(...i),u}:s&&(o[n]=s):n==="style"?o[n]={...s,...l}:n==="className"&&(o[n]=[s,l].filter(Boolean).join(" "))}return{...e,...o}}function ne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}function re(e){const t=e+"CollectionProvider",[o,n]=J(t),[s,l]=o(t,{collectionRef:{current:null},itemMap:new Map}),c=S=>{const{scope:f,children:g}=S,E=h.useRef(null),m=h.useRef(new Map).current;return v.jsx(s,{scope:f,itemMap:m,collectionRef:E,children:g})};c.displayName=t;const i=e+"CollectionSlot",u=D(i),a=h.forwardRef((S,f)=>{const{scope:g,children:E}=S,m=l(i,g),x=O(f,m.collectionRef);return v.jsx(u,{ref:x,children:E})});a.displayName=i;const p=e+"CollectionItemSlot",d="data-radix-collection-item",R=D(p),I=h.forwardRef((S,f)=>{const{scope:g,children:E,...m}=S,x=h.useRef(null),w=O(f,x),_=l(p,g);return h.useEffect(()=>(_.itemMap.set(x,{ref:x,...m}),()=>{_.itemMap.delete(x)})),v.jsx(R,{[d]:"",ref:w,children:E})});I.displayName=p;function C(S){const f=l(e+"CollectionConsumer",S);return h.useCallback(()=>{const E=f.collectionRef.current;if(!E)return[];const m=Array.from(E.querySelectorAll(`[${d}]`));return Array.from(f.itemMap.values()).sort((_,T)=>m.indexOf(_.ref.current)-m.indexOf(T.ref.current))},[f.collectionRef,f.itemMap])}return[{Provider:c,Slot:a,ItemSlot:I},C,n]}var se=r.createContext(void 0);function ce(e){const t=r.useContext(se);return e||t||"ltr"}function ie(e,t=[]){let o=[];function n(l,c){const i=r.createContext(c),u=o.length;o=[...o,c];const a=d=>{const{scope:R,children:I,...C}=d,S=R?.[e]?.[u]||i,f=r.useMemo(()=>C,Object.values(C));return v.jsx(S.Provider,{value:f,children:I})};a.displayName=l+"Provider";function p(d,R){const I=R?.[e]?.[u]||i,C=r.useContext(I);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${d}\` must be used within \`${l}\``)}return[a,p]}const s=()=>{const l=o.map(c=>r.createContext(c));return function(i){const u=i?.[e]||l;return r.useMemo(()=>({[`__scope${e}`]:{...i,[e]:u}}),[i,u])}};return s.scopeName=e,[n,le(s,...t)]}function le(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=n.reduce((i,{useScope:u,scopeName:a})=>{const d=u(l)[`__scope${a}`];return{...i,...d}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return o.scopeName=t.scopeName,o}function ue(e){const t=ae(e),o=r.forwardRef((n,s)=>{const{children:l,...c}=n,i=r.Children.toArray(l),u=i.find(pe);if(u){const a=u.props.children,p=i.map(d=>d===u?r.Children.count(a)>1?r.Children.only(null):r.isValidElement(a)?a.props.children:null:d);return v.jsx(t,{...c,ref:s,children:r.isValidElement(a)?r.cloneElement(a,void 0,p):null})}return v.jsx(t,{...c,ref:s,children:l})});return o.displayName=`${e}.Slot`,o}function ae(e){const t=r.forwardRef((o,n)=>{const{children:s,...l}=o;if(r.isValidElement(s)){const c=me(s),i=de(l,s.props);return s.type!==r.Fragment&&(i.ref=n?$(n,c):c),r.cloneElement(s,i)}return r.Children.count(s)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fe=Symbol("radix.slottable");function pe(e){return r.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fe}function de(e,t){const o={...t};for(const n in t){const s=e[n],l=t[n];/^on[A-Z]/.test(n)?s&&l?o[n]=(...i)=>{const u=l(...i);return s(...i),u}:s&&(o[n]=s):n==="style"?o[n]={...s,...l}:n==="className"&&(o[n]=[s,l].filter(Boolean).join(" "))}return{...e,...o}}function me(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var Ce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],L=Ce.reduce((e,t)=>{const o=ue(`Primitive.${t}`),n=r.forwardRef((s,l)=>{const{asChild:c,...i}=s,u=c?o:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(u,{...i,ref:l})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),N="rovingFocusGroup.onEntryFocus",ve={bubbles:!1,cancelable:!0},P="RovingFocusGroup",[M,V,Se]=re(P),[xe,Ne]=ie(P,[Se]),[Ie,ge]=xe(P),G=r.forwardRef((e,t)=>v.jsx(M.Provider,{scope:e.__scopeRovingFocusGroup,children:v.jsx(M.Slot,{scope:e.__scopeRovingFocusGroup,children:v.jsx(Re,{...e,ref:t})})}));G.displayName=P;var Re=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,orientation:n,loop:s=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:u,onEntryFocus:a,preventScrollOnEntryFocus:p=!1,...d}=e,R=r.useRef(null),I=O(t,R),C=ce(l),[S,f]=Z({prop:c,defaultProp:i??null,onChange:u,caller:P}),[g,E]=r.useState(!1),m=z(a),x=V(o),w=r.useRef(!1),[_,T]=r.useState(0);return r.useEffect(()=>{const b=R.current;if(b)return b.addEventListener(N,m),()=>b.removeEventListener(N,m)},[m]),v.jsx(Ie,{scope:o,orientation:n,dir:C,loop:s,currentTabStopId:S,onItemFocus:r.useCallback(b=>f(b),[f]),onItemShiftTab:r.useCallback(()=>E(!0),[]),onFocusableItemAdd:r.useCallback(()=>T(b=>b+1),[]),onFocusableItemRemove:r.useCallback(()=>T(b=>b-1),[]),children:v.jsx(L.div,{tabIndex:g||_===0?-1:0,"data-orientation":n,...d,ref:I,style:{outline:"none",...e.style},onMouseDown:F(e.onMouseDown,()=>{w.current=!0}),onFocus:F(e.onFocus,b=>{const W=!w.current;if(b.target===b.currentTarget&&W&&!g){const j=new CustomEvent(N,ve);if(b.currentTarget.dispatchEvent(j),!j.defaultPrevented){const A=x().filter(y=>y.focusable),H=A.find(y=>y.active),U=A.find(y=>y.id===S),Y=[H,U,...A].filter(Boolean).map(y=>y.ref.current);K(Y,p)}}w.current=!1}),onBlur:F(e.onBlur,()=>E(!1))})})}),k="RovingFocusGroupItem",B=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,focusable:n=!0,active:s=!1,tabStopId:l,children:c,...i}=e,u=q(),a=l||u,p=ge(k,o),d=p.currentTabStopId===a,R=V(o),{onFocusableItemAdd:I,onFocusableItemRemove:C,currentTabStopId:S}=p;return r.useEffect(()=>{if(n)return I(),()=>C()},[n,I,C]),v.jsx(M.ItemSlot,{scope:o,id:a,focusable:n,active:s,children:v.jsx(L.span,{tabIndex:d?0:-1,"data-orientation":p.orientation,...i,ref:t,onMouseDown:F(e.onMouseDown,f=>{n?p.onItemFocus(a):f.preventDefault()}),onFocus:F(e.onFocus,()=>p.onItemFocus(a)),onKeyDown:F(e.onKeyDown,f=>{if(f.key==="Tab"&&f.shiftKey){p.onItemShiftTab();return}if(f.target!==f.currentTarget)return;const g=ye(f,p.orientation,p.dir);if(g!==void 0){if(f.metaKey||f.ctrlKey||f.altKey||f.shiftKey)return;f.preventDefault();let m=R().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")m.reverse();else if(g==="prev"||g==="next"){g==="prev"&&m.reverse();const x=m.indexOf(f.currentTarget);m=p.loop?he(m,x+1):m.slice(x+1)}setTimeout(()=>K(m))}}),children:typeof c=="function"?c({isCurrentTabStop:d,hasTabStop:S!=null}):c})})});B.displayName=k;var be={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ee(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ye(e,t,o){const n=Ee(e.key,o);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return be[n]}function K(e,t=!1){const o=document.activeElement;for(const n of e)if(n===o||(n.focus({preventScroll:t}),document.activeElement!==o))return}function he(e,t){return e.map((o,n)=>e[(t+n)%e.length])}var Oe=G,Me=B;export{Me as I,Oe as R,re as a,Ne as c,ce as u};
